
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="在别处或在路上">
      
      
        <meta name="author" content="Cliff Fan">
      
      
        <link rel="canonical" href="https://duetorun.com/blog/20200202/mainstream-compiler/">
      
      
        <link rel="prev" href="../../20200201/compiler-toolchain/">
      
      
        <link rel="next" href="../../20200203/dump-compiler-options/">
      
      
      <link rel="icon" href="../../../assets/hold_yourself.jpg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.15">
    
    
      
        <title>Mainstream Compiler - gcc/clang/msvc - ElseWhere</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-XGW41EGL31"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-XGW41EGL31",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-XGW41EGL31",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gnugcc" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="ElseWhere" class="md-header__button md-logo" aria-label="ElseWhere" data-md-component="logo">
      
  <img src="../../../assets/hold_yourself.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ElseWhere
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Mainstream Compiler - gcc/clang/msvc
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../link/" class="md-tabs__link">
        
  
    
  
  Link

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ElseWhere" class="md-nav__button md-logo" aria-label="ElseWhere" data-md-component="logo">
      
  <img src="../../../assets/hold_yourself.jpg" alt="logo">

    </a>
    ElseWhere
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2017
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2009/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2009
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/cs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/c/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    c
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/editor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    editor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/excerpt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    excerpt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/macos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    macOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    markdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/material/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    material
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/mkdocs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mkdocs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/nginx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nginx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/resource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    resource
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/samba/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    samba
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/toolchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    toolchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ubuntu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/webdav/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webDAV
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/wiki/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wiki
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/zsh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    zsh
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../link/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Link
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gnugcc" class="md-nav__link">
    <span class="md-ellipsis">
      GNU/GCC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GNU/GCC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcc_and_g" class="md-nav__link">
    <span class="md-ellipsis">
      gcc and g++
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gnu_binutils" class="md-nav__link">
    <span class="md-ellipsis">
      GNU binutils
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#language_standards" class="md-nav__link">
    <span class="md-ellipsis">
      Language Standards
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Language Standards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#glibc" class="md-nav__link">
    <span class="md-ellipsis">
      glibc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libstdc" class="md-nav__link">
    <span class="md-ellipsis">
      libstdc++
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gdb" class="md-nav__link">
    <span class="md-ellipsis">
      GDB
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clangllvm" class="md-nav__link">
    <span class="md-ellipsis">
      Clang/LLVM
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clang/LLVM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture_1" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcc_compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      GCC compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#llvm-gccllvm-g" class="md-nav__link">
    <span class="md-ellipsis">
      llvm-gcc/llvm-g++
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clangllvm_binutils" class="md-nav__link">
    <span class="md-ellipsis">
      clang/llvm binutils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="clang/llvm binutils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xcode_selecttool-shim" class="md-nav__link">
    <span class="md-ellipsis">
      xcode_select.tool-shim
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#corresponding_to_gnu" class="md-nav__link">
    <span class="md-ellipsis">
      corresponding to GNU
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#language_standards_1" class="md-nav__link">
    <span class="md-ellipsis">
      Language Standards
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Language Standards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#libc" class="md-nav__link">
    <span class="md-ellipsis">
      libc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libc_1" class="md-nav__link">
    <span class="md-ellipsis">
      libc++
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lldb" class="md-nav__link">
    <span class="md-ellipsis">
      LLDB
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#msvc" class="md-nav__link">
    <span class="md-ellipsis">
      MSVC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MSVC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#binutils" class="md-nav__link">
    <span class="md-ellipsis">
      Binutils
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#language_standards_2" class="md-nav__link">
    <span class="md-ellipsis">
      Language Standards
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windbg" class="md-nav__link">
    <span class="md-ellipsis">
      WinDbg
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refs" class="md-nav__link">
    <span class="md-ellipsis">
      refs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../" class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
                  <span class="md-ellipsis">
                    回到主页
                  </span>
                </a>
              </div>
            </div>
            
              <div class="md-post__authors md-typeset">
                
                  <div class="md-profile md-post__profile">
                    <span class="md-author md-author--long">
                      <img src="https://duetorun.com/assets/carve_yourself.jpg" alt="Cliff Fan">
                    </span>
                    <span class="md-profile__description">
                      <strong>
                        
                          Cliff Fan
                        
                      </strong>
                      <br>
                      Just do IT
                    </span>
                  </div>
                
              </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    元数据
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg>
                        <time datetime="2020-02-02 10:00:00" class="md-ellipsis">2020年2月2日</time>
                      </div>
                    </li>
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 13h1.5v2.82l2.44 1.41-.75 1.3L15 16.69V13m4-5H5v11h4.67c-.43-.91-.67-1.93-.67-3a7 7 0 0 1 7-7c1.07 0 2.09.24 3 .67V8M5 21a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2v6.1c1.24 1.26 2 2.99 2 4.9a7 7 0 0 1-7 7c-1.91 0-3.64-.76-4.9-2H5m11-9.85A4.85 4.85 0 0 0 11.15 16c0 2.68 2.17 4.85 4.85 4.85A4.85 4.85 0 0 0 20.85 16c0-2.68-2.17-4.85-4.85-4.85Z"/></svg>
                          <time datetime="2024-04-02 10:00:00" class="md-ellipsis">2024年4月2日</time>
                        </div>
                      </li>
                    
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg>
                          <span class="md-ellipsis">
                            分类于
                            
                              <a href="../../category/toolchain/">toolchain</a></span>
                        </div>
                      </li>
                    
                    
                      
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg>
                          <span class="md-ellipsis">
                            
                              需要 22 分钟阅读时间
                            
                          </span>
                        </div>
                      </li>
                    
                    <!-- Add by Cliff.Fan, 29Mar24. -->
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 1-5 5v11l5-4.5V1m2 4v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5-1.95 0-4.05.4-5.5 1.5v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1M10 18.41C8.75 18.09 7.5 18 6.5 18c-1.06 0-2.32.19-3.5.5V7.13c.91-.4 2.14-.63 3.5-.63 1.36 0 2.59.23 3.5.63v11.28Z"/></svg>
                        <span class="md-ellipsis" id="busuanzi_container_page_pv">
                          阅读量：<span id="busuanzi_value_page_pv">N/A</span>
                        </span>
                      </div>
                    </li>
                  </ul>
                </nav>
              </li>
            </ul>
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        


  <h1>Mainstream Compiler - gcc/clang/msvc</h1>

<p>Try and tease out mainstream compilers(GNU/GCC, Clang/LLVM, Microsoft Visual Studio) architecture/framework, toolchain, binutils and language(C/C++) standards.</p>
<p>The following concepts/topics will be involved:</p>
<ol>
<li>gcc/g++, glibc/libstdc++, gdb</li>
<li>clang/clang++, llvm-gcc/llvm-g++, libc/libc++, lldb</li>
<li>msvc/cl, windbg</li>
</ol>
<!-- more -->

<h2 id="gnugcc">GNU/GCC<a class="headerlink" href="#gnugcc" title="Permanent link">#</a></h2>
<p><a href="https://www.gnu.org/">The GNU Operating System and the Free Software Movement</a></p>
<div class="admonition abstract">
<p class="admonition-title">What is GNU?</p>
<p>GNU is an operating system that is <a href="https://www.gnu.org/philosophy/free-sw.html">free software</a>—that is, it respects users' freedom. The GNU operating system consists of GNU packages (programs specifically released by the GNU Project) as well as free software released by third parties. The development of GNU made it possible to use a computer without software that would trample your freedom.</p>
<p>We recommend installable versions of GNU (more precisely, <a href="https://www.gnu.org/gnu/linux-and-gnu.html">GNU/Linux</a> distributions) which are entirely free software.</p>
</div>
<p><a href="https://gcc.gnu.org/">GCC, the GNU Compiler Collection</a></p>
<div class="admonition abstract">
<p class="admonition-title">What is GCC?</p>
<p>The GNU Compiler Collection includes front ends for <a href="https://gcc.gnu.org/c99status.html"></a>, <a href="https://gcc.gnu.org/projects/cxx-status.html">C++</a>, Objective-C, Fortran, Ada, Go, and D, as well as libraries for these languages (libstdc++,...). GCC was originally written as the compiler for the <a href="http://www.gnu.org/gnu/thegnuproject.html">GNU operating system</a>. The GNU system was developed to be 100% free software, free in the sense that it respects the user's freedom.</p>
<p>We strive to provide regular, high quality <a href="https://gcc.gnu.org/releases.html">releases</a>, which we want to work well on a variety of native and cross targets (including GNU/Linux), and encourage everyone to contribute changes or help testing GCC.</p>
</div>
<p><a href="https://gcc.gnu.org/">GCC, the GNU Compiler Collection</a> @<a href="git://gcc.gnu.org/git/gcc.git">git</a> - <a href="https://en.wikipedia.org/wiki/GNU_Compiler_Collection">wiki</a></p>
<p><a href="https://gcc.gnu.org/onlinedocs/">GCC online documentation</a></p>
<ul>
<li><a href="https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html">Option Summary</a></li>
<li><a href="https://gcc.gnu.org/onlinedocs/gcc/Overall-Options.html">Overall Options</a></li>
</ul>
<p><a href="https://gcc.gnu.org/onlinedocs/gccint/index.html">GCC Internals)</a></p>
<h3 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">#</a></h3>
<p><a href="https://en.wikibooks.org/wiki/GNU_C_Compiler_Internals/GNU_C_Compiler_Architecture">GNU C Compiler Internals/Architecture</a></p>
<p>For a C source file they are the preprocessor and compiler <code>cc1</code>, the assembler <code>as</code>, and the linker <code>collect2</code>. The first and the third programs come with a GCC <em>distribution</em>, the assembler is a part of the GNU <em>binutils</em> package.</p>
<p><img alt="GCC_Architecture" src="../../toolchain/images/GCC_Architecture.jpeg" /></p>
<p><a href="https://gcc.gnu.org/onlinedocs/gcc/Developer-Options.html">Developer Options</a>: <code>-dumpspecs</code> : Print the compiler’s built-in <a href="https://gcc.gnu.org/onlinedocs/gcc/Spec-Files.html">Spec Files</a>:</p>
<ul>
<li>cpp : Options to pass to the C preprocessor</li>
<li>cc1 : Options to pass to the C compiler</li>
<li>cc1plus : Options to pass to the C++ compiler</li>
</ul>
<p><a href="https://gcc.gnu.org/onlinedocs/cpp/">cpp - The C Preprocessor</a></p>
<ul>
<li><a href="https://gcc.gnu.org/onlinedocs/cpp/Invocation.html">Invocation</a>: the preprocessor is actually <em>integrated</em> with the compiler rather than a separate program.</li>
<li><a href="https://gcc.gnu.org/onlinedocs/gcc/Preprocessor-Options.html">Preprocessor Options</a>: <code>-no-integrated-cpp</code>: Perform preprocessing as a <em>separate</em> pass before compilation.</li>
</ul>
<p><a href="https://gcc.gnu.org/wiki/FAQ#include_search_path">FAQ - GCC Wiki</a>: the GCC C compiler (<code>cc1</code>) and C++ compiler (<code>cc1cplus</code>)</p>
<p><a href="https://stackoverflow.com/questions/13753854/why-cc1-is-called-cc1">Why cc1 is called cc1?</a> <a href="https://unix.stackexchange.com/questions/77779/relationship-between-cc1-and-gcc">Relationship between cc1 and gcc?</a></p>
<blockquote>
<p>The 1 in <code>cc1</code> indicates that it is the first stage of the build process. The second stage is <code>collect2</code>.</p>
</blockquote>
<p><a href="https://gcc.gnu.org/onlinedocs/gccint/Collect2.html">Collect2 (GCC Internals)</a>: The program <code>collect2</code> is installed as <code>ld</code> in the directory where the passes of the compiler are installed.</p>
<h3 id="gcc_and_g">gcc and g++<a class="headerlink" href="#gcc_and_g" title="Permanent link">#</a></h3>
<p>GNU C Compiler: <code>gcc</code> / <code>cc</code></p>
<ul>
<li><code>c89</code> - ANSI (1989) C compiler</li>
<li><code>c99</code> - ANSI (1999) C compiler</li>
</ul>
<p>GNU C++ Compiler: <code>g++</code> / <code>c++</code></p>
<p><a href="https://gcc.gnu.org/onlinedocs/gcc/Invoking-G_002b_002b.html">Invoking G++ - Compiling C++ Programs</a></p>
<p>GCC recognizes C++ header/source files with these names and compiles them as C++ programs even if you call the compiler the same way as for compiling C programs (usually with the name <code>gcc</code>).</p>
<p>However, the use of <code>gcc</code> does not add the C++ library. <code>g++</code> is a program that calls GCC and automatically specifies <em>linking</em> against the C++ library. It treats ‘.c’, ‘.h’ and ‘.i’ files as C++ source files instead of C source files unless <code>-x</code> is used. This program is also useful when precompiling a C header file with a ‘.h’ extension for use in C++ compilations. On many systems, <code>g++</code> is also installed with the name <code>c++</code>.</p>
<p><a href="https://stackoverflow.com/questions/172587/what-is-the-difference-between-g-and-gcc">What is the difference between g++ and gcc?</a></p>
<p><code>g++</code> is roughly equivalent to <code>gcc -xc++ -lstdc++ -shared-libgcc</code> (the 1st is a compiler option, the 2nd two are linker options).</p>
<ul>
<li><code>-xc++</code>: Specify explicitly the language</li>
<li><code>-lstdc++</code>: Search the library named <code>stdc++</code>(libstdc++) when linking</li>
<li><code>-shared-libgcc</code>: G++ driver automatically adds this to use exceptions for C++ programs</li>
</ul>
<p><a href="https://www.geeksforgeeks.org/difference-between-gcc-and-g/">Difference between GCC and G++</a></p>
<table>
<thead>
<tr>
<th>g++</th>
<th>gcc</th>
</tr>
</thead>
<tbody>
<tr>
<td>g++ is used to compile C++ program.</td>
<td>gcc is used to compile C program.</td>
</tr>
<tr>
<td>g++ can compile any .c or .cpp files but they will be treated as C++ files only.</td>
<td>gcc can compile any .c or .cpp files but they will be treated as C and C++ respectively.</td>
</tr>
<tr>
<td>Command to compile C++ program through g++ is <code>g++ fileName.cpp -o binary</code></td>
<td>command to compile C program through gcc is <code>gcc fileName.c -o binary</code></td>
</tr>
<tr>
<td>Using g++ to link the object files, files automatically links in the std C++ libraries.</td>
<td>gcc does not do this.</td>
</tr>
<tr>
<td>g++ compiles with more predefined macros.</td>
<td>gcc compiles C++ files with more number of predefined macros. Some of them are <code>#define __GXX_WEAK__ 1</code>, <code>#define __cplusplus 1</code>, <code>#define __DEPRECATED 1</code>, etc</td>
</tr>
</tbody>
</table>
<p>下面是 rpi4b-ubuntu 的 /usr/bin 下 <code>cpp</code>、<code>gcc</code>、<code>g++</code> 命令，真身分别为 aarch64-linux-gnu-cpp-11、aarch64-linux-gnu-gcc-11、aarch64-linux-gnu-g++-11。</p>
<ul>
<li>aarch64-linux-gnu-gcc-11、aarch64-linux-gnu-g++-11 这两个二进制文件 size 一样，但是 md5sum 不一致。</li>
</ul>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>/usr/bin<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;cpp|cc|[g|c]\+\+&quot;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">         </span><span class="m">428</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">18</span><span class="w">  </span><span class="m">2020</span><span class="w"> </span>c89-gcc
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">         </span><span class="m">454</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">18</span><span class="w">  </span><span class="m">2020</span><span class="w"> </span>c99-gcc
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">      </span><span class="m">876656</span><span class="w"> </span>May<span class="w"> </span><span class="m">13</span><span class="w">  </span><span class="m">2023</span><span class="w"> </span>aarch64-linux-gnu-cpp-11
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">          </span><span class="m">24</span><span class="w"> </span>May<span class="w"> </span><span class="m">13</span><span class="w">  </span><span class="m">2023</span><span class="w"> </span>cpp-11<span class="w"> </span>-&gt;<span class="w"> </span>aarch64-linux-gnu-cpp-11
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">           </span><span class="m">6</span><span class="w"> </span>Aug<span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">2021</span><span class="w"> </span>aarch64-linux-gnu-cpp<span class="w"> </span>-&gt;<span class="w"> </span>cpp-11
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">           </span><span class="m">6</span><span class="w"> </span>Aug<span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">2021</span><span class="w"> </span>cpp<span class="w"> </span>-&gt;<span class="w"> </span>cpp-11
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">      </span><span class="m">872560</span><span class="w"> </span>May<span class="w"> </span><span class="m">13</span><span class="w">  </span><span class="m">2023</span><span class="w"> </span>aarch64-linux-gnu-gcc-11
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">          </span><span class="m">24</span><span class="w"> </span>May<span class="w"> </span><span class="m">13</span><span class="w">  </span><span class="m">2023</span><span class="w"> </span>gcc-11<span class="w"> </span>-&gt;<span class="w"> </span>aarch64-linux-gnu-gcc-11
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">           </span><span class="m">6</span><span class="w"> </span>Aug<span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">2021</span><span class="w"> </span>aarch64-linux-gnu-gcc<span class="w"> </span>-&gt;<span class="w"> </span>gcc-11
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">           </span><span class="m">6</span><span class="w"> </span>Aug<span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">2021</span><span class="w"> </span>gcc<span class="w"> </span>-&gt;<span class="w"> </span>gcc-11
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">      </span><span class="m">872560</span><span class="w"> </span>May<span class="w"> </span><span class="m">13</span><span class="w">  </span><span class="m">2023</span><span class="w"> </span>aarch64-linux-gnu-g++-11
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">          </span><span class="m">24</span><span class="w"> </span>May<span class="w"> </span><span class="m">13</span><span class="w">  </span><span class="m">2023</span><span class="w"> </span>g++-11<span class="w"> </span>-&gt;<span class="w"> </span>aarch64-linux-gnu-g++-11
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">           </span><span class="m">6</span><span class="w"> </span>Aug<span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">2021</span><span class="w"> </span>aarch64-linux-gnu-g++<span class="w"> </span>-&gt;<span class="w"> </span>g++-11
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">           </span><span class="m">6</span><span class="w"> </span>Aug<span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">2021</span><span class="w"> </span>g++<span class="w"> </span>-&gt;<span class="w"> </span>g++-11
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">          </span><span class="m">20</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">10</span>:59<span class="w"> </span>cc<span class="w"> </span>-&gt;<span class="w"> </span>/etc/alternatives/cc
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">          </span><span class="m">21</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">10</span>:59<span class="w"> </span>c++<span class="w"> </span>-&gt;<span class="w"> </span>/etc/alternatives/c++
</span></code></pre></div>
<p>进一步验证，<code>cc</code>、<code>c++</code> 分别是 gcc、g++ 的软链。</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>/etc/alternatives/cc
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">12</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">10</span>:59<span class="w"> </span>/etc/alternatives/cc<span class="w"> </span>-&gt;<span class="w"> </span>/usr/bin/gcc
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>/etc/alternatives/c++
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">12</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">10</span>:59<span class="w"> </span>/etc/alternatives/c++<span class="w"> </span>-&gt;<span class="w"> </span>/usr/bin/g++
</span></code></pre></div>
<h3 id="gnu_binutils">GNU binutils<a class="headerlink" href="#gnu_binutils" title="Permanent link">#</a></h3>
<p><a href="https://www.gnu.org/savannah-checkouts/gnu/hurd/binutils.html">GNU Hurd / GNU Binutils</a> - <a href="https://www.gnu.org/software/binutils/">GNU Binutils</a></p>
<p>Computer Systems - A Programmer’s Perspective | Chapter 7: Linking - 7.14 Tools for Manipulating Object Files:</p>
<blockquote>
<p>There are a number of tools available on Linux systems to help you understand and manipulate object ﬁles. In particular, the GNU <em>binutils</em> package is especially helpful and runs on every Linux platform.</p>
</blockquote>
<p>The GNU Binutils are a collection of binary tools. The main ones are:</p>
<ul>
<li><code>ld</code> - the GNU linker.</li>
<li><code>as</code> - the GNU assembler.</li>
<li><code>gold</code> - a new, faster, ELF only linker.</li>
</ul>
<p>But they also include:</p>
<ul>
<li><code>addr2line</code> - Converts addresses into filenames and line numbers.</li>
<li><code>ar</code> - A utility for creating, modifying and extracting from archives.</li>
<li><code>c++filt</code> - Filter to demangle encoded C++ symbols.</li>
<li><code>dlltool</code> - Creates files for building and using DLLs.</li>
<li><code>elfedit</code> - Allows alteration of ELF format files.</li>
<li><code>nm</code> - Lists symbols from object files.</li>
<li><code>objcopy</code> - Copies and translates object files.</li>
<li>
<p><code>objdump</code> - Displays information from object files.</p>
<ul>
<li>The mother of all binary tools.</li>
<li>Can display <em>all</em> of the information in an object ﬁle.</li>
<li><code>-f</code>/<code>-a</code>/<code>-h</code>/<code>-x</code>: display file/archive/section/all headers.</li>
<li>Its most useful function is <em>disassembling</em> the binary instructions in the <code>.text</code> section.</li>
</ul>
</li>
<li>
<p><code>ranlib</code> - Generates an index to the contents of an archive.</p>
</li>
<li><code>readelf</code> - Displays information from any ELF format object file.<ul>
<li>Subsumes the functionality of <code>size</code> and <code>nm</code>.</li>
</ul>
</li>
<li><code>size</code> - Lists the section sizes of an object or archive file.</li>
<li><code>strip</code> - Discards symbols.</li>
</ul>
<p>Linux systems also provide the ldd program for manipulating shared libraries:</p>
<ul>
<li><code>ldd</code> - print shared object dependencies. Lists the shared libraries that an executable needs at run time.</li>
</ul>
<p>在 Linux(Ubuntu) 下，这些 GNU Binutils 一般预装在 <code>/usr/bin/</code> 目录下。</p>
<h3 id="language_standards">Language Standards<a class="headerlink" href="#language_standards" title="Permanent link">#</a></h3>
<p><a href="https://gcc.gnu.org/onlinedocs/gcc/Standards.html">Language Standards Supported by GCC</a></p>
<p><a href="https://gcc.gnu.org/onlinedocs/gcc/Overall-Options.html">Options Controlling the Kind of Output</a></p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>-x<span class="w"> </span>language
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Specify<span class="w"> </span>explicitly<span class="w"> </span>the<span class="w"> </span>language<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>input<span class="w"> </span>files<span class="w"> </span><span class="o">(</span>rather<span class="w"> </span>than<span class="w"> </span>letting<span class="w"> </span>the<span class="w"> </span>compiler<span class="w"> </span>choose<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>based<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>file<span class="w"> </span>name<span class="w"> </span>suffix<span class="o">)</span>.<span class="w"> </span>This<span class="w"> </span>option<span class="w"> </span>applies<span class="w"> </span>to<span class="w"> </span>all<span class="w"> </span>following<span class="w"> </span>input<span class="w"> </span>files<span class="w"> </span><span class="k">until</span><span class="w"> </span>the<span class="w"> </span>next<span class="w"> </span>-x<span class="w"> </span>option.
</span></code></pre></div>
<p><a href="https://gcc.gnu.org/onlinedocs/gcc/C-Dialect-Options.html">Options Controlling C Dialect</a></p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>-ansi
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>In<span class="w"> </span>C<span class="w"> </span>mode,<span class="w"> </span>this<span class="w"> </span>is<span class="w"> </span>equivalent<span class="w"> </span>to<span class="w"> </span>-std<span class="o">=</span>c90.<span class="w"> </span>In<span class="w"> </span>C++<span class="w"> </span>mode,<span class="w"> </span>it<span class="w"> </span>is<span class="w"> </span>equivalent<span class="w"> </span>to<span class="w"> </span>-std<span class="o">=</span>c++98.
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>-std<span class="o">=</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Determine<span class="w"> </span>the<span class="w"> </span>language<span class="w"> </span>standard.<span class="w"> </span>See<span class="w"> </span>Language<span class="w"> </span>Standards<span class="w"> </span>Supported<span class="w"> </span>by<span class="w"> </span>GCC,<span class="w"> </span><span class="k">for</span><span class="w"> </span>details<span class="w"> </span>of<span class="w"> </span>these<span class="w"> </span>standard<span class="w"> </span>versions.<span class="w"> </span>This<span class="w"> </span>option<span class="w"> </span>is<span class="w"> </span>currently<span class="w"> </span>only<span class="w"> </span>supported<span class="w"> </span>when<span class="w"> </span>compiling<span class="w"> </span>C<span class="w"> </span>or<span class="w"> </span>C++.
</span></code></pre></div>
<p><a href="https://gcc.gnu.org/onlinedocs/gcc/C_002b_002b-Dialect-Options.html">Options Controlling C++ Dialect</a></p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>-stdlib<span class="o">=</span>libstdc++,libc++
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>When<span class="w"> </span>G++<span class="w"> </span>is<span class="w"> </span>configured<span class="w"> </span>to<span class="w"> </span>support<span class="w"> </span>this<span class="w"> </span>option,<span class="w"> </span>it<span class="w"> </span>allows<span class="w"> </span>specification<span class="w"> </span>of<span class="w"> </span>alternate<span class="w"> </span>C++<span class="w"> </span>runtime<span class="w"> </span>libraries.<span class="w"> </span>Two<span class="w"> </span>options<span class="w"> </span>are<span class="w"> </span>available:<span class="w"> </span>libstdc++<span class="w"> </span><span class="o">(</span>the<span class="w"> </span>default,<span class="w"> </span>native<span class="w"> </span>C++<span class="w"> </span>runtime<span class="w"> </span><span class="k">for</span><span class="w"> </span>G++<span class="o">)</span><span class="w"> </span>and<span class="w"> </span>libc++<span class="w"> </span>which<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>C++<span class="w"> </span>runtime<span class="w"> </span>installed<span class="w"> </span>on<span class="w"> </span>some<span class="w"> </span>operating<span class="w"> </span>systems<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>Darwin<span class="w"> </span>versions<span class="w"> </span>from<span class="w"> </span>Darwin11<span class="w"> </span>onwards<span class="o">)</span>.<span class="w"> </span>The<span class="w"> </span>option<span class="w"> </span>switches<span class="w"> </span>G++<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>headers<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>specified<span class="w"> </span>library<span class="w"> </span>and<span class="w"> </span>to<span class="w"> </span>emit<span class="w"> </span>-lstdc++<span class="w"> </span>or<span class="w"> </span>-lc++<span class="w"> </span>respectively,<span class="w"> </span>when<span class="w"> </span>a<span class="w"> </span>C++<span class="w"> </span>runtime<span class="w"> </span>is<span class="w"> </span>required<span class="w"> </span><span class="k">for</span><span class="w"> </span>linking.
</span></code></pre></div>
<div class="admonition question">
<p class="admonition-title">c++11/gnu++11 有什么区别？</p>
<p>-std=<code>c++11</code>: The 2011 ISO C++ standard plus amendments.<br />
-std=<code>gnu++11</code>: GNU dialect of -std=c++11. ISO C 2011 with GNU extensions.</p>
<p><a href="https://stackoverflow.com/questions/10613126/what-are-the-differences-between-std-c11-and-std-gnu11">What are the differences between -std=c++11 and -std=gnu++11?</a>  </p>
<p>the difference between the two options is whether GNU extensions that violates the C++ standard are <strong>enabled</strong> or not. The GNU extensions are described <a href="https://gcc.gnu.org/onlinedocs/gcc/C_002b_002b-Extensions.html">here</a>.</p>
</div>
<p>使用 gcc 编译链接的时候，默认是采用动态链接的方式。如果要指定静态链接，有两种方式：</p>
<ol>
<li>使用 <code>-static</code> 选项，开启全静态链接。</li>
<li>使用 <code>-Wl,-Bstatic</code>，<code>-Wl,-Bdynamic</code> 选项，将部分动态库设置为静态链接。</li>
</ol>
<p>参考 <a href="https://www.cnblogs.com/motadou/p/4471088.html">gcc 全静态链接</a>，<a href="https://gcc.gnu.org/legacy-ml/gcc/2000-05/msg00517.html">Q: linker "-static" flag usage</a> 和 GCC <a href="https://gcc.gnu.org/onlinedocs/gcc/Link-Options.html">Link Options</a> 中的相关选项说明。</p>
<ul>
<li>-static</li>
<li>-static-libgcc</li>
<li>-static-libstdc++</li>
</ul>
<p>一些抑制/定制默认链接的选项：</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>-nostartfiles
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>Do<span class="w"> </span>not<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>standard<span class="w"> </span>system<span class="w"> </span>startup<span class="w"> </span>files<span class="w"> </span>when<span class="w"> </span>linking.
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>-nodefaultlibs
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>Do<span class="w"> </span>not<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>standard<span class="w"> </span>system<span class="w"> </span>libraries<span class="w"> </span>when<span class="w"> </span>linking.
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>-nolibc
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>Do<span class="w"> </span>not<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>C<span class="w"> </span>library<span class="w"> </span>or<span class="w"> </span>system<span class="w"> </span>libraries<span class="w"> </span>tightly<span class="w"> </span>coupled<span class="w"> </span>with<span class="w"> </span>it<span class="w"> </span>when<span class="w"> </span>linking.
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>-nostdlib
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>Do<span class="w"> </span>not<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>standard<span class="w"> </span>system<span class="w"> </span>startup<span class="w"> </span>files<span class="w"> </span>or<span class="w"> </span>libraries<span class="w"> </span>when<span class="w"> </span>linking.
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>-nostdlib++
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>Do<span class="w"> </span>not<span class="w"> </span>implicitly<span class="w"> </span>link<span class="w"> </span>with<span class="w"> </span>standard<span class="w"> </span>C++<span class="w"> </span>libraries.
</span></code></pre></div>
<h4 id="glibc">glibc<a class="headerlink" href="#glibc" title="Permanent link">#</a></h4>
<p><a href="https://www.gnu.org/software/libc/">The GNU C Library</a> - <a href="https://en.wikipedia.org/wiki/Glibc">wiki</a></p>
<ul>
<li><a href="https://sourceware.org/glibc/manual/">Documentation for the GNU C Library</a></li>
<li><a href="https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html">The GNU C Reference Manual</a></li>
</ul>
<p>GNU C sourceware:</p>
<ul>
<li>@<a href="https://sourceware.org/glibc/">sourceware</a>, <a href="git://sourceware.org/git/glibc.git">git</a></li>
<li><a href="https://ftp.gnu.org/gnu/libc/">Index of /gnu/libc</a></li>
</ul>
<p><a href="https://blog.csdn.net/Erice_s/article/details/106184779">Linux的libc库</a>，<a href="https://blog.csdn.net/yasi_xi/article/details/9899599">libc、glibc 和 glib 的关系</a><br />
<a href="https://stackoverflow.com/questions/11372872/what-is-the-role-of-libcglibc-in-our-linux-app">What is the role of libc(glibc) in our linux app?</a><br />
<a href="https://www.quora.com/Is-the-development-of-libc-tied-with-Linux-I-mean-is-libc-Linux-specific-I-thought-that-libc-is-a-standard-that-is-OS-independent-but-I-am-not-sure-Is-libc-updated-anytime-Linux-changes-its-syscalls">Is the development of libc tied with Linux?</a></p>
<blockquote>
<p>There is GNU Libc and the C standard library. The former is an implementation of the latter, but there are many other implementations. Even on Linux glibc is not the only option.</p>
</blockquote>
<p>Linux/ubuntu 下可执行 <code>man libc</code> 或 <code>info libc</code> 查看 <a href="https://man7.org/linux/man-pages/man7/libc.7.html">libc(7) - Linux manual page</a>。</p>
<ul>
<li><a href="https://manpages.ubuntu.com/manpages/bionic/man7/libc.7.html">Ubuntu Manpage: libc - overview of standard C libraries on Linux</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">libc vs. glibc</p>
<p>The term <code>libc</code> is commonly used as a shorthand for the “standard C library”.</p>
<p>By far the most widely used C library on Linux is the GNU C Library, often referred to as <code>glibc</code>.</p>
<p>In the early to mid 1990s, there was for a while <em>Linux libc</em>, a fork of glibc 1.x created by Linux developers who felt that glibc development at the time was not sufficing for the needs of Linux. Often, this library was referred to (ambiguously) as just <code>libc</code>.</p>
<p>However, notwithstanding the original motivations of the Linux libc effort, by the time glibc 2.0 was released (in 1997), it was clearly superior to Linux libc, and all major Linux distributions that had been using Linux libc soon <strong>switched</strong> back to <code>glibc</code>.</p>
</div>
<p>GNU/Linux Options 中支持配置 C library 的选项：</p>
<ul>
<li><code>-mglibc</code></li>
<li><code>-muclibc</code>(<em>-</em>-linux-<em>uclibc</em>)</li>
<li><code>-mmusl</code>(<em>-</em>-linux-<em>musl</em>)</li>
<li><code>-mbionic</code>(<em>-</em>-linux-<em>android</em>)</li>
</ul>
<details class="info">
<summary>获取查看 glibc 版本号</summary>
<p><a href="https://www.cnblogs.com/motadou/p/4473966.html">glibc 查看版本号</a>, <a href="https://blog.csdn.net/gatieme/article/details/108945425">Linux(Ubuntu/CentOS) 下查看 GLIBC 版本</a></p>
<p>通过 <code>getconf</code> 命令获取 GNU_LIBC_VERSION：</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>$<span class="w"> </span>getconf<span class="w"> </span>GNU_LIBC_VERSION
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>glibc<span class="w"> </span><span class="m">2</span>.35
</span></code></pre></div>
<p><code>ldd</code> 是 glibc 提供的命令，执行 <code>ldd --version</code> 会输出 glibc 的版本号：</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>$<span class="w"> </span>ldd<span class="w"> </span>--version
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>ldd<span class="w"> </span><span class="o">(</span>Ubuntu<span class="w"> </span>GLIBC<span class="w"> </span><span class="m">2</span>.35-0ubuntu3.7<span class="o">)</span><span class="w"> </span><span class="m">2</span>.35
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">2022</span><span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software<span class="p">;</span><span class="w"> </span>see<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>copying<span class="w"> </span>conditions.<span class="w">  </span>There<span class="w"> </span>is<span class="w"> </span>NO
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>warranty<span class="p">;</span><span class="w"> </span>not<span class="w"> </span>even<span class="w"> </span><span class="k">for</span><span class="w"> </span>MERCHANTABILITY<span class="w"> </span>or<span class="w"> </span>FITNESS<span class="w"> </span>FOR<span class="w"> </span>A<span class="w"> </span>PARTICULAR<span class="w"> </span>PURPOSE.
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>Written<span class="w"> </span>by<span class="w"> </span>Roland<span class="w"> </span>McGrath<span class="w"> </span>and<span class="w"> </span>Ulrich<span class="w"> </span>Drepper.
</span></code></pre></div>
<p>直接执行 libc.so，可以看到 GLIBC 版本为 2.35：</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>$<span class="w"> </span>/lib/aarch64-linux-gnu/libc.so.6
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>GNU<span class="w"> </span>C<span class="w"> </span>Library<span class="w"> </span><span class="o">(</span>Ubuntu<span class="w"> </span>GLIBC<span class="w"> </span><span class="m">2</span>.35-0ubuntu3.7<span class="o">)</span><span class="w"> </span>stable<span class="w"> </span>release<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.35.
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">2022</span><span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software<span class="p">;</span><span class="w"> </span>see<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>copying<span class="w"> </span>conditions.
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>There<span class="w"> </span>is<span class="w"> </span>NO<span class="w"> </span>warranty<span class="p">;</span><span class="w"> </span>not<span class="w"> </span>even<span class="w"> </span><span class="k">for</span><span class="w"> </span>MERCHANTABILITY<span class="w"> </span>or<span class="w"> </span>FITNESS<span class="w"> </span>FOR<span class="w"> </span>A
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>PARTICULAR<span class="w"> </span>PURPOSE.
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>Compiled<span class="w"> </span>by<span class="w"> </span>GNU<span class="w"> </span>CC<span class="w"> </span>version<span class="w"> </span><span class="m">11</span>.4.0.
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>libc<span class="w"> </span>ABIs:<span class="w"> </span>UNIQUE<span class="w"> </span>ABSOLUTE
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>For<span class="w"> </span>bug<span class="w"> </span>reporting<span class="w"> </span>instructions,<span class="w"> </span>please<span class="w"> </span>see:
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>&lt;https://bugs.launchpad.net/ubuntu/+source/glibc/+bugs&gt;.
</span></code></pre></div>
</details>
<h4 id="libstdc">libstdc++<a class="headerlink" href="#libstdc" title="Permanent link">#</a></h4>
<p><a href="https://gcc.gnu.org/onlinedocs/libstdc++/">The GNU C++ Library</a></p>
<p><a href="https://gcc.gnu.org/onlinedocs/libstdc++/manual/index.html">The GNU C++ Library Manual</a></p>
<p>The GCC project includes an implementation of the C++ Standard Library called <code>libstdc++</code>, licensed under the GPLv3 License with an exception to link non-GPL applications when sources are built with GCC.</p>
<p><a href="https://www.jianshu.com/p/a3c983edabd1">厘清 gcc、glibc、libstdc++ 的关系</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/498529973">如何升级linux的libstdc++.so - 知乎</a></p>
<h3 id="gdb">GDB<a class="headerlink" href="#gdb" title="Permanent link">#</a></h3>
<p><a href="https://gcc.gnu.org/onlinedocs/gcc/Debugging-Options.html">GCC Debugging Options</a></p>
<p><a href="https://www.gnu.org/savannah-checkouts/gnu/hurd/gdb.html">GNU Hurd / GNU GDB</a> - <a href="https://en.wikipedia.org/wiki/GNU_Debugger">wiki</a></p>
<p><a href="https://sourceware.org/gdb/current/onlinedocs/">GDB: The GNU Project Debugger</a></p>
<ul>
<li><a href="https://sourceware.org/gdb/current/onlinedocs/annotate.html">GDB’s Obsolete Annotations</a></li>
<li>Debugging with GDB: <a href="https://sourceware.org/gdb/current/onlinedocs/gdb">integrated</a>, <a href="https://sourceware.org/gdb/current/onlinedocs/gdb.html/index.html">index/toc</a></li>
<li>@<a href="https://www.sourceware.org/gdb/">sourceware</a>, <a href="git://sourceware.org/git/binutils-gdb.git">git</a></li>
</ul>
<p>VisualGDB - <a href="https://visualgdb.com/gdbreference/commands/">GDB Command Reference</a><br />
用GDB调试程序：<a href="https://haoel.blog.csdn.net/article/details/2879">（一）</a> ～ <a href="https://haoel.blog.csdn.net/article/details/2885">（七）</a></p>
<p><a href="https://www.onlinegdb.com/">GDB online Debugger</a></p>
<h2 id="clangllvm">Clang/LLVM<a class="headerlink" href="#clangllvm" title="Permanent link">#</a></h2>
<p>In 2006, <a href="https://nondot.org/sabre/">Chris Lattner</a> started working on a new project named Clang. The combination of Clang <em>frontend</em> and LLVM <em>backend</em> is named Clang/LLVM or simply Clang.</p>
<p><a href="https://llvm.org/">The LLVM Compiler Infrastructure Project</a> - <a href="https://en.wikipedia.org/wiki/LLVM">wiki</a> @<a href="https://github.com/llvm/llvm-project">github</a></p>
<ul>
<li><a href="https://llvm.org/docs/">LLVM's Documentation</a></li>
</ul>
<p><a href="https://clang.llvm.org/">Clang C Language Family Frontend for LLVM</a> - <a href="https://en.wikipedia.org/wiki/Clang">wiki</a></p>
<ul>
<li><a href="https://clang.llvm.org/docs/">Clang's documentation</a></li>
<li><a href="https://clang.llvm.org/docs/UsersManual.html">Clang Compiler User’s Manual</a></li>
<li><a href="https://clang.llvm.org/docs/CommandGuide/clang.html">clang - the Clang C, C++, and Objective-C compiler</a></li>
<li><a href="https://clang.llvm.org/docs/ClangCommandLineReference.html">Clang command line argument reference</a></li>
<li><a href="https://clang.llvm.org/docs/ClangCommandLineReference.html#preprocessor-options">Preprocessor options</a></li>
</ul>
<p>作为 Apple Developer，往往首先需要在 macOS 开发机上安装 Xcode IDE，Clang/LLVM 编译器工具链包含在 Xcode command-line tools 中。</p>
<div class="admonition abstract">
<p class="admonition-title">What is the Command Line Tools Package?</p>
<p><a href="https://developer.apple.com/library/archive/technotes/tn2339/_index.html">Technical Note TN2339: Building from the Command Line with Xcode FAQ</a></p>
<p>The Command Line Tools Package is a small self-contained package available for download separately from Xcode and that allows you to do command line development in macOS. It consists of the macOS SDK and command-line tools such as <em>Clang</em>, which are installed in the <code>/Library/Developer/CommandLineTools</code> directory.</p>
<blockquote>
<p>In macOS 10.9 and later, the Downloads pane of Xcode Preferences does not support downloading command-line tools.</p>
</blockquote>
</div>
<p>如果不是 Apple Native Developer，只是把 macOS 当做 User-friendly 的 Unix-like 开发机使用，可以自行前往 <a href="https://developer.apple.com/download/all/">Download for Apple Developers page</a> 下载安装 Command Line Tools。在 macOS 上安装 homebrew 也会提示需要安装 Xcode Command Line Tools。</p>
<div class="admonition abstract">
<p class="admonition-title">Command Line Tools for Xcode</p>
<p>This package enables <em>UNIX-style</em> development via Terminal by installing command line developer tools, as well as macOS SDK frameworks and headers. Many useful tools are included, such as the Apple <em>LLVM</em> compiler, linker, and Make. If you use Xcode, these tools are also <strong>embedded</strong> within the Xcode IDE.</p>
</div>
<h3 id="architecture_1">Architecture<a class="headerlink" href="#architecture_1" title="Permanent link">#</a></h3>
<p><a href="https://llvm.org/pubs/2008-10-04-ACAT-LLVM-Intro.html">Introduction to the LLVM Compiler System</a></p>
<p><a href="https://aosabook.org/en/v1/llvm.html">The Architecture of Open Source Applications (Volume 1) LLVM</a></p>
<p>Three Major Components of a Three-Phase Compiler:</p>
<p><img alt="Classical-Three-Phase-Compiler" src="https://aosabook.org/static/llvm/SimpleCompiler.png" /></p>
<p><img alt="Compiler_design-Three-stage-compiler-structure" src="../../toolchain/images/Compiler_design-Three-stage-compiler-structure.png" /></p>
<p>Implications of this Design - Retargetablity:</p>
<p><img alt="Retargetablity" src="https://aosabook.org/static/llvm/RetargetableCompiler.png" /></p>
<p>LLVM's Implementation of Three-Phase Design:</p>
<p><img alt="LLVM's Implementation of the Three-Phase Design" src="https://aosabook.org/static/llvm/LLVMCompiler1.png" /></p>
<div class="admonition abstract">
<p class="admonition-title">LLVM Linker</p>
<p>The <code>lld</code> subproject is an attempt to develop a built-in, platform-independent linker for LLVM. lld aims to remove dependence on a third-party linker. As of May 2017, lld supports <a href="https://en.wikipedia.org/wiki/Executable_and_Linkable_Format">ELF</a>, <a href="https://en.wikipedia.org/wiki/PE/COFF">PE/COFF</a>, <a href="https://en.wikipedia.org/wiki/Mach-O">Mach-O</a>, and <a href="https://en.wikipedia.org/wiki/WebAssembly">WebAssembly</a> in descending order of completeness. lld is faster than both flavors of GNU ld.</p>
<p>Unlike the GNU linkers, lld has built-in support for <a href="https://en.wikipedia.org/wiki/Link-time_optimization">link-time optimization</a> (LTO). This allows for faster code generation as it bypasses the use of a linker plugin, but on the other hand prohibits interoperability with other flavors of LTO.</p>
</div>
<h3 id="gcc_compatibility">GCC compatibility<a class="headerlink" href="#gcc_compatibility" title="Permanent link">#</a></h3>
<p><a href="https://stackoverflow.com/questions/20171095/why-cant-i-check-my-version-of-gcc-compiler-on-os-x">xcode - Why can't I check my version of GCC compiler on OS X - Stack Overflow</a></p>
<blockquote>
<p>Apple no longer distributes GCC with Xcode. They now use <code>Clang</code> as the default (and only!) compiler on Mac OS X. cc, gcc, and clang (as well as the C++ variants, c++, g++, and clang++) are now all <strong>linked</strong> to run clang under current versions of Xcode.</p>
</blockquote>
<p><a href="https://discussions.apple.com/thread/8440495?sortBy=best">installation compiler cc or gcc in Mac OS 10.13.3 - Apple Community</a></p>
<blockquote>
<p>Apple no longer includes GNU products due to their GPL3 licensing issues. The clang/llvm compiler technology does have limited, legacy (older) GNU C/C++ compatibility — even down to the gcc/g++ commands (<strong>linked</strong> to clang/llvm GNU compatibility mode) which can compile well-written C/C++ code that does not have specific GNU dependencies.</p>
</blockquote>
<p><a href="https://en.wikipedia.org/wiki/Clang#Performance_and_GCC_compatibility">Clang Performance and GCC compatibility</a></p>
<blockquote>
<p>Clang Compiler Driver (Drop-in Substitute for GCC): The clang tool is the compiler driver and front-end, which is designed to be a drop-in replacement for the gcc command.</p>
</blockquote>
<div class="admonition abstract">
<p class="admonition-title">GCC compatibility</p>
<p>Clang is compatible with GCC. Its command-line interface shares many of GCC's flags and options. Clang implements many GNU language extensions and compiler intrinsics, some of which are purely for compatibility. For example, even though Clang implements atomic intrinsics which correspond exactly with C11 atomics, it also implements GCC's __sync_* intrinsics for compatibility with GCC and libstdc++. Clang also maintains ABI compatibility with GCC-generated object code. In practice, Clang is a drop-in replacement for GCC.</p>
</div>
<p><a href="https://stackoverflow.com/questions/5238582/is-there-a-binutils-for-llvm">gcc - Is there a binutils for llvm? - Stack Overflow</a></p>
<h3 id="llvm-gccllvm-g">llvm-gcc/llvm-g++<a class="headerlink" href="#llvm-gccllvm-g" title="Permanent link">#</a></h3>
<p>在 macOS 上执行 <code>which clang</code> 和 <code>clang --version</code> 检查 clang 的位置和版本。</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>$<span class="w"> </span>which<span class="w"> </span>clang
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>/usr/bin/clang
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c1"># /usr/bin/clang --version</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>$<span class="w"> </span>clang<span class="w"> </span>--version
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>Apple<span class="w"> </span>clang<span class="w"> </span>version<span class="w"> </span><span class="m">15</span>.0.0<span class="w"> </span><span class="o">(</span>clang-1500.3.9.4<span class="o">)</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>Target:<span class="w"> </span>arm64-apple-darwin23.5.0
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>Thread<span class="w"> </span>model:<span class="w"> </span>posix
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>InstalledDir:<span class="w"> </span>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
</span></code></pre></div>
<p>在 XcodeDefault.xctoolchain/usr/bin 下，clang 还有个软链替身（symbolic link）——clang++。</p>
<p><a href="https://stackoverflow.com/questions/20047218/what-is-the-difference-clang-clang-std-c11">Clang is the name of the whole compiler</a>. However, from a command-line point of view:</p>
<ul>
<li><code>clang</code> is the C compiler</li>
<li><code>clang++</code> is the C++ compiler</li>
</ul>
<p>Clang is compatible with GCC. Its command-line interface shares many of GCC's flags and options.</p>
<p>在 macOS 中，clang/<a href="https://veryitman.com/2018/10/13/macOS-%E4%B8%AD%E7%A5%9E%E7%A7%98%E7%9A%84-GCC/">gcc</a> 以某种方式指向 <code>llvm-gcc</code> 编译器。</p>
<blockquote>
<p>llvm-gcc is a C, C++, Objective-C and Objective-C++ compiler.<br />
llvm-gcc uses gcc front-end and gcc's command line interface.<br />
In Apple's version of GCC, both cc and gcc are actually <em>symbolic links</em> to the llvm-gcc compiler.</p>
</blockquote>
<p>而 clang/g++ 则以某种方式指向 <code>llvm-g++</code> 编译器。</p>
<blockquote>
<p>llvm-g++ is a compiler driver for C++.<br />
Similarly, c++ and g++ are links to llvm-g++.</p>
</blockquote>
<p><a href="https://releases.llvm.org/2.8/docs/CommandGuide/html/llvmgcc.html">llvmgcc</a>: llvm-gcc - LLVM C front-end</p>
<div class="admonition abstract">
<p class="admonition-title">llvm-gcc</p>
<p>The <strong>llvm-gcc</strong> command is the LLVM C front end. It is a modified version of gcc that compiles C/ObjC programs into native objects, LLVM bitcode or LLVM assembly language, depending upon the options.</p>
<p>By default, <strong>llvm-gcc</strong> compiles to native objects just like GCC does. If the<code>-emit-llvm</code> and <code>-c</code> options are given then it will generate LLVM bitcode files instead. If <code>-emit-llvm</code> and <code>-S</code> are given, then it will generate LLVM assembly.</p>
<p>Being derived from the GNU Compiler Collection, <strong>llvm-gcc</strong> has many of gcc's features and accepts most of gcc's options. It handles a number of gcc's extensions to the C programming language. See the gcc documentation for details.</p>
</div>
<p><a href="https://releases.llvm.org/2.8/docs/CommandGuide/html/llvmgxx.html">llvmgxx</a>: llvm-g++ - LLVM C++ front-end</p>
<div class="admonition abstract">
<p class="admonition-title">llvm-g++</p>
<p>The <strong>llvm-g++</strong> command is the LLVM C++ front end. It is a modified version of g++ that compiles C++/ObjC++ programs into native code, LLVM bitcode or assembly language, depending upon the options.</p>
<p>By default, <strong>llvm-g++</strong> compiles to native objects just like GCC does. If the <code>-emit-llvm</code> option is given then it will generate LLVM bitcode files instead. If <code>-S</code> (assembly) is also given, then it will generate LLVM assembly.</p>
<p>Being derived from the GNU Compiler Collection, <strong>llvm-g++</strong> has many of g++'s features and accepts most of g++'s options. It handles a number of g++'s extensions to the C++ programming language.</p>
</div>
<p><code>which gcc</code> 和 <code>which g++</code> 输出位置为 <code>/usr/bin</code>；但是 <code>gcc --version</code> 和 <code>g++ --version</code> 输出的 InstalledDir 目录为 <code>$(xcode-select -p)/Toolchains/XcodeDefault.xctoolchain/usr/bin</code>。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">gcc --version</label><label for="__tabbed_1_2">g++ --version</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>$<span class="w"> </span>which<span class="w"> </span>llvm-gcc
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>/usr/bin/llvm-gcc
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>$<span class="w"> </span>which<span class="w"> </span>gcc
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>/usr/bin/gcc
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="c1"># llvm-gcc --version</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>$<span class="w"> </span>gcc<span class="w"> </span>--version
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>Apple<span class="w"> </span>clang<span class="w"> </span>version<span class="w"> </span><span class="m">15</span>.0.0<span class="w"> </span><span class="o">(</span>clang-1500.3.9.4<span class="o">)</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>Target:<span class="w"> </span>arm64-apple-darwin23.5.0
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>Thread<span class="w"> </span>model:<span class="w"> </span>posix
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>InstalledDir:<span class="w"> </span>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>$<span class="w"> </span>which<span class="w"> </span>llvm-g++
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>/usr/bin/llvm-g++
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>$<span class="w"> </span>which<span class="w"> </span>g++
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>/usr/bin/g++
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="c1"># llvm-g++ --version</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>$<span class="w"> </span>g++<span class="w"> </span>--version
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>Apple<span class="w"> </span>clang<span class="w"> </span>version<span class="w"> </span><span class="m">15</span>.0.0<span class="w"> </span><span class="o">(</span>clang-1500.3.9.4<span class="o">)</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>Target:<span class="w"> </span>arm64-apple-darwin23.5.0
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>Thread<span class="w"> </span>model:<span class="w"> </span>posix
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>InstalledDir:<span class="w"> </span>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
</span></code></pre></div>
</div>
</div>
</div>
<p>这两个目录有什么关联（猫腻）呢？</p>
<p>在 macOS 下执行 <code>cat /etc/paths</code> 可以看到环境变量中有 <code>/usr/local/bin</code> 和 <code>/usr/bin</code>，没有 Xcode 或 CommandLineTools 相关的 /usr/bin 目录。执行 <code>echo $PATH</code> 查看 PATH，其中也没有这些 Xcode Compiler Toolchain 目录。</p>
<p>可以确定的是，llvm-gcc/llvm-g++ 来自 /usr/bin，至少从命令行执行层面来看是这样的。</p>
<h3 id="clangllvm_binutils">clang/llvm binutils<a class="headerlink" href="#clangllvm_binutils" title="Permanent link">#</a></h3>
<p><a href="https://developer.apple.com/library/archive/technotes/tn2339/_index.html">Technical Note TN2339: Building from the Command Line with Xcode FAQ</a></p>
<div class="admonition abstract">
<p class="admonition-title">xcode command-line tools bundled shims or wrapper in /usr/bin</p>
<p>If Xcode is installed on your machine, then there is no need to install them. Xcode comes bundled with all your command-line tools. macOS 10.9 and later includes shims or wrapper executables. These shims, installed in <code>/usr/bin</code>, can map any tool included in <code>/usr/bin</code> to the corresponding one inside Xcode. <code>xcrun</code> is one of such shims, which allows you to find or run any tool inside Xcode from the command line. Use it to invoke any tool within Xcode from the command line.</p>
</div>
<p>执行 <code>man xcode-select</code> 查看帮助，手册中的 Usage 部分和 FILES 有相关说明：</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>man<span class="w"> </span>xcode-select
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>Usage
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">       </span>After<span class="w"> </span>setting<span class="w"> </span>a<span class="w"> </span>developer<span class="w"> </span>directory,<span class="w"> </span>all<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>xcode-select<span class="w"> </span>provided<span class="w"> </span>developer<span class="w"> </span>tool<span class="w"> </span>shims<span class="w"> </span><span class="o">(</span>see
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">       </span>FILES<span class="o">)</span><span class="w"> </span>will<span class="w"> </span>automatically<span class="w"> </span>invoke<span class="w"> </span>the<span class="w"> </span>version<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>tool<span class="w"> </span>inside<span class="w"> </span>the<span class="w"> </span>selected<span class="w"> </span>developer<span class="w"> </span>directory.
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">       </span>Your<span class="w"> </span>own<span class="w"> </span>scripts,<span class="w"> </span>makefiles,<span class="w"> </span>and<span class="w"> </span>other<span class="w"> </span>tools<span class="w"> </span>can<span class="w"> </span>also<span class="w"> </span>use<span class="w"> </span>xcrun<span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span>to<span class="w"> </span>easily<span class="w"> </span>lookup<span class="w"> </span>tools<span class="w"> </span>inside
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">       </span>the<span class="w"> </span>active<span class="w"> </span>developer<span class="w"> </span>directory,<span class="w"> </span>making<span class="w"> </span>it<span class="w"> </span>easy<span class="w"> </span>to<span class="w"> </span>switch<span class="w"> </span>them<span class="w"> </span>between<span class="w"> </span>different<span class="w"> </span>versions<span class="w"> </span>of<span class="w"> </span>the
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">       </span>Xcode<span class="w"> </span>tools<span class="w"> </span>and<span class="w"> </span>allowing<span class="w"> </span>them<span class="w"> </span>to<span class="w"> </span><span class="k">function</span><span class="w"> </span>properly<span class="w"> </span>on<span class="w"> </span>systems<span class="w"> </span>where<span class="w"> </span>the<span class="w"> </span>Xcode<span class="w"> </span>application<span class="w"> </span>has
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">       </span>been<span class="w"> </span>installed<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>non-default<span class="w"> </span>location.
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>FILES
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">       </span>/usr/bin/git<span class="w"> </span>/usr/bin/make
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">       </span>/usr/bin/c89<span class="w"> </span>/usr/bin/c99
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">       </span>/usr/bin/clang++<span class="w"> </span>/usr/bin/clang
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">       </span>/usr/bin/cpp<span class="w"> </span>/usr/bin/ctags
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="w">       </span>/usr/bin/g++<span class="w"> </span>/usr/bin/gcc
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="w">       </span>/usr/bin/as<span class="w"> </span>/usr/bin/ar
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="w">       </span>/usr/bin/ld<span class="w"> </span>/usr/bin/lldb
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="w">       </span>/usr/bin/nm<span class="w"> </span>/usr/bin/objdump
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="w">       </span>/usr/bin/ranlib<span class="w"> </span>/usr/bin/size
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="w">       </span>/usr/bin/strings<span class="w"> </span>/usr/bin/strip
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="w">       </span>Runs<span class="w"> </span>the<span class="w"> </span>matching<span class="w"> </span>BSD<span class="w"> </span>tool<span class="w"> </span>from<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>active<span class="w"> </span>developer<span class="w"> </span>directory.
</span></code></pre></div>
<p>xcode-select 和 xcrun 命令：</p>
<ul>
<li><code>xcode-select -s</code>: Sets the active developer directory to the given path, for example /Applications/Xcode-beta.app.</li>
<li><code>xcode-select -p</code>: Prints the path to the currently selected developer directory.</li>
<li><code>xcrun</code> - Run or locate development tools and properties.</li>
</ul>
<h4 id="xcode_selecttool-shim">xcode_select.tool-shim<a class="headerlink" href="#xcode_selecttool-shim" title="Permanent link">#</a></h4>
<p>use <code>xcrun</code> to easily lookup tools inside the active developer directory:</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># xcrun provide the absolute path</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>$<span class="w"> </span>xcrun<span class="w"> </span>-f<span class="w"> </span>gcc
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>/Applications/Xcode.app/Contents/Developer/usr/bin/gcc
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="c1"># xcrun gcc --version</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>$<span class="w"> </span>xcrun<span class="w"> </span>-f<span class="w"> </span>g++
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>/Applications/Xcode.app/Contents/Developer/usr/bin/g++
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c1"># xcrun g++ --version</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>$<span class="w"> </span>xcrun<span class="w"> </span>-f<span class="w"> </span>cc
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>$<span class="w"> </span>xcrun<span class="w"> </span>-f<span class="w"> </span>c++
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>$<span class="w"> </span>xcrun<span class="w"> </span>-f<span class="w"> </span>cpp
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cpp
</span></code></pre></div>
<p>综上可知，macOS 下 clang/llvm 的 compiler toolchain Binutils 分布在四个 /usr/bin 目录下：</p>
<ol>
<li>/usr/bin</li>
<li>/Library/Developer/CommandLineTools/usr/bin</li>
<li>/Applications/Xcode.app/Contents/Developer/usr/bin</li>
<li>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin</li>
</ol>
<p>对四个 /usr/bin 目录分支执行 <code>ls -l</code> 过滤出 clang/clang++, gcc/cc, g++/c++ 相关命令。</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nv">usrbin</span><span class="o">=</span>/usr/bin
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nv">cmdbin</span><span class="o">=</span>/Library/Developer/CommandLineTools/usr/bin
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nv">xcdevpath</span><span class="o">=</span><span class="sb">`</span>xcode-select<span class="w"> </span>-p<span class="sb">`</span><span class="w"> </span><span class="c1"># /Applications/Xcode.app/Contents/Developer</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="nv">xcdevbin</span><span class="o">=</span><span class="nv">$xcdevpath</span>/usr/bin
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="nv">xctcbin</span><span class="o">=</span><span class="nv">$xcdevpath</span>/Toolchains/XcodeDefault.xctoolchain/usr/bin
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$usrbin</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;clang|(cc|gcc)</span>$<span class="s2">|[g|c]\+\+&quot;</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$cmdbin</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;clang|(cc|gcc)</span>$<span class="s2">|[g|c]\+\+&quot;</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$xcdevbin</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;clang|(cc|gcc)</span>$<span class="s2">|[g|c]\+\+&quot;</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$xctcbin</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;clang|(cc|gcc)</span>$<span class="s2">|[g|c]\+\+&quot;</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="c1"># 可以执行以下命令查看目录之间的公共分布</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>comm<span class="w"> </span>-12<span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span><span class="nv">$usrbin</span><span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span><span class="nv">$cmdbin</span><span class="o">)</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>comm<span class="w"> </span>-12<span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span><span class="nv">$usrbin</span><span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span><span class="nv">$xcdevbin</span><span class="o">)</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>comm<span class="w"> </span>-12<span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span><span class="nv">$usrbin</span><span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span><span class="nv">$xctcbin</span><span class="o">)</span>
</span></code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="2:4"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">usrbin</label><label for="__tabbed_2_2">cmdbin</label><label for="__tabbed_2_3">xcdevbin</label><label for="__tabbed_2_4">xctcbin</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$usrbin</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;clang|cpp|(cc|gcc)</span>$<span class="s2">|[g|c]\+\+&quot;</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>c++
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>cc
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>clang
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>clang++
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>cpp
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>g++
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>gcc
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>llvm-g++
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>-rwxr-xr-x<span class="w">  </span><span class="m">77</span><span class="w"> </span>root<span class="w">   </span>wheel<span class="w">    </span><span class="m">119008</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span>:52<span class="w"> </span>llvm-gcc
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$cmdbin</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;clang|cpp|(cc|gcc)</span>$<span class="s2">|[g|c]\+\+&quot;</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">          </span><span class="m">5</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">00</span>:55<span class="w"> </span>c++<span class="w"> </span>-&gt;<span class="w"> </span>clang
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">          </span><span class="m">5</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">00</span>:55<span class="w"> </span>cc<span class="w"> </span>-&gt;<span class="w"> </span>clang
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>-rwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">  </span><span class="m">251484800</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">10</span>:06<span class="w"> </span>clang
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">          </span><span class="m">5</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">00</span>:55<span class="w"> </span>clang++<span class="w"> </span>-&gt;<span class="w"> </span>clang
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">          </span><span class="m">3</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">00</span>:55<span class="w"> </span>g++<span class="w"> </span>-&gt;<span class="w"> </span>gcc
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>-rwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>admin<span class="w">       </span><span class="m">3344</span><span class="w"> </span>Feb<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">02</span>:02<span class="w"> </span>cpp
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>-rwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>admin<span class="w">     </span><span class="m">101088</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">10</span>:06<span class="w"> </span>gcc
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$xcdevbin</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;clang|cpp|(cc|gcc)</span>$<span class="s2">|[g|c]\+\+&quot;</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">         </span><span class="m">3</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">13</span>:05<span class="w"> </span>g++<span class="w"> </span>-&gt;<span class="w"> </span>gcc
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>-rwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">    </span><span class="m">101088</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">10</span>:06<span class="w"> </span>gcc
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$xctcbin</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;clang|cpp|(cc|gcc)</span>$<span class="s2">|[g|c]\+\+&quot;</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">          </span><span class="m">5</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">13</span>:04<span class="w"> </span>c++<span class="w"> </span>-&gt;<span class="w"> </span>clang
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">          </span><span class="m">5</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">13</span>:04<span class="w"> </span>cc<span class="w"> </span>-&gt;<span class="w"> </span>clang
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>-rwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">  </span><span class="m">251484800</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">10</span>:06<span class="w"> </span>clang
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">          </span><span class="m">5</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">13</span>:04<span class="w"> </span>clang++<span class="w"> </span>-&gt;<span class="w"> </span>clang
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>-rwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w">  </span>wheel<span class="w">       </span><span class="m">3344</span><span class="w"> </span>Feb<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">02</span>:01<span class="w"> </span>cpp
</span></code></pre></div>
</div>
</div>
</div>
<p>从输出结果来看，有些是实体文件，有些是软链替身：</p>
<ol>
<li>系统 /usr/bin 下的 clang/clang++, cpp, gcc/cc, g++/c++ 等 size 和 md5 一致。执行 <code>strings</code> 命令或 <code>otool -P</code> 查看其中的 plist 可知，它们均为 xcode_select.tool-shim。</li>
<li>CommandLineTools（cmdbin）和 <code>xcode-select -p</code>（xcdevbin）下的 clang++ 和 cc/c++ 均指向 clang ，g++ 指向 gcc（貌似还是 xcode_select.tool-shim？）。</li>
</ol>
<h4 id="corresponding_to_gnu">corresponding to GNU<a class="headerlink" href="#corresponding_to_gnu" title="Permanent link">#</a></h4>
<p>除了 llvm-gcc/llvm-g++ 编译器，从 <code>man xcode-select</code> 的 FILES 部分，可以看到 /usr/bin 下的 as、ar、ld、lldb、nm、objdump、ranlib、strings、size、strip 等 GNU compatible 同名 binutils 也是 xcode_select.tool-shim。当我们在执行 <code>objdump</code> 时，实际上等价于 <code>xcrun objdump</code>。</p>
<p>下面稍微梳理对比一下 clang 和 gcc 提供的常用工具集（binutils）。</p>
<p>clang 相比 gcc 少了以下命令，有些官方提供了 drop-in replacement：</p>
<ul>
<li><code>gold</code>: <a href="https://llvm.org/docs/GoldPlugin.html">The LLVM gold plugin</a></li>
<li><code>addr2line</code>: <a href="https://llvm.org/docs/CommandGuide/llvm-addr2line.html">llvm-addr2line - a drop-in replacement for addr2line</a></li>
<li><code>elfedit</code>: segedit</li>
<li><code>objcopy</code>: <a href="https://llvm.org/docs/CommandGuide/llvm-objcopy.html">llvm-objcopy - object copying and editing tool</a></li>
<li><code>readelf</code>: <a href="https://llvm.org/docs/CommandGuide/llvm-readelf.html">llvm-readelf - GNU-style LLVM Object Reader</a></li>
</ul>
<p>clang 相比 gcc 多了以下命令，有些是针对 <a href="https://en.wikipedia.org/wiki/Mach-O">Mach-O</a>（参考 <a href="https://developer.apple.com/library/archive/documentation/Performance/Conceptual/CodeFootprint/Articles/MachOOverview.html">Overview</a>，<a href="https://github.com/aidansteele/osx-abi-macho-file-format-reference">Reference</a>）格式特有的操作工具：</p>
<ul>
<li><code>cmpdylib</code> - compare two dynamic shared libraries for compatibility</li>
<li><code>dsymutil</code> - manipulate archived DWARF debug symbol files</li>
<li><code>dwarfdump</code> - dump and verify DWARF debug information</li>
<li><code>indent</code> – indent and format C program source</li>
<li><code>install_name_tool</code> - change dynamic shared library install names</li>
<li><code>libtool</code> - create libraries</li>
<li>
<p><code>lipo</code> - create or operate on universal files</p>
<ul>
<li><code>lipo -info</code>: Display a brief description</li>
</ul>
</li>
<li>
<p><code>lorder</code> – list dependencies for object files</p>
</li>
<li><code>nmedit</code> - change global symbols to local symbols</li>
<li>
<p><code>otool</code>(-classic) - object file displaying tool</p>
<ul>
<li><code>otool -h</code>: Display the Mach header</li>
<li><code>otool -L</code>: Display the shared libraries uses - 对应 Linux 下的 <code>ldd</code></li>
</ul>
</li>
<li>
<p><code>segedit</code> - extract and replace sections from object files</p>
</li>
<li><code>unifdef</code>, unifdefall – remove preprocessor conditionals from code</li>
<li><code>vtool</code> – Mach-O version number utility</li>
</ul>
<p><a href="https://clang.llvm.org/docs/CrossCompilation.html">Cross-compilation using Clang</a><br />
<a href="https://docs.kernel.org/kbuild/llvm.html">Building Linux with Clang/LLVM — The Linux Kernel documentation</a></p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>make<span class="w"> </span><span class="nv">CC</span><span class="o">=</span>clang<span class="w"> </span><span class="nv">LD</span><span class="o">=</span>ld.lld<span class="w"> </span><span class="nv">AR</span><span class="o">=</span>llvm-ar<span class="w"> </span><span class="nv">NM</span><span class="o">=</span>llvm-nm<span class="w"> </span><span class="nv">STRIP</span><span class="o">=</span>llvm-strip<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">  </span><span class="nv">OBJCOPY</span><span class="o">=</span>llvm-objcopy<span class="w"> </span><span class="nv">OBJDUMP</span><span class="o">=</span>llvm-objdump<span class="w"> </span><span class="nv">READELF</span><span class="o">=</span>llvm-readelf<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">  </span><span class="nv">HOSTCC</span><span class="o">=</span>clang<span class="w"> </span><span class="nv">HOSTCXX</span><span class="o">=</span>clang++<span class="w"> </span><span class="nv">HOSTAR</span><span class="o">=</span>llvm-ar<span class="w"> </span><span class="nv">HOSTLD</span><span class="o">=</span>ld.lld
</span></code></pre></div>
<h3 id="language_standards_1">Language Standards<a class="headerlink" href="#language_standards_1" title="Permanent link">#</a></h3>
<p><a href="https://llvm.org/docs/LangRef.html">LLVM Language Reference Manual</a></p>
<p><a href="https://clang.llvm.org/c_status.html">Clang - C Programming Language Status</a><br />
<a href="https://clang.llvm.org/cxx_status.html">Clang - C++ Programming Language Status</a></p>
<p><a href="https://clang.llvm.org/docs/CommandGuide/clang.html">clang - the Clang C, C++, and Objective-C compiler</a></p>
<p>OPTIONS | Language Selection and Mode Options:</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>-x<span class="w"> </span>&lt;language&gt;
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>Treat<span class="w"> </span>subsequent<span class="w"> </span>input<span class="w"> </span>files<span class="w"> </span>as<span class="w"> </span>having<span class="w"> </span><span class="nb">type</span><span class="w"> </span>language.
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>-ansi
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>Same<span class="w"> </span>as<span class="w"> </span>-std<span class="o">=</span>c89.
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>-std<span class="o">=</span>&lt;standard&gt;
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>Specify<span class="w"> </span>the<span class="w"> </span>c/c++<span class="w"> </span>language<span class="w"> </span>standard<span class="w"> </span>to<span class="w"> </span>compile<span class="w"> </span><span class="k">for</span>.
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>The<span class="w"> </span>default<span class="w"> </span>C<span class="w"> </span>language<span class="w"> </span>standard<span class="w"> </span>is<span class="w"> </span>gnu17,<span class="w"> </span>except<span class="w"> </span>on<span class="w"> </span>PS4,<span class="w"> </span>where<span class="w"> </span>it<span class="w"> </span>is<span class="w"> </span>gnu99.
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>The<span class="w"> </span>default<span class="w"> </span>C++<span class="w"> </span>language<span class="w"> </span>standard<span class="w"> </span>is<span class="w"> </span>gnu++17.
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>-stdlib<span class="o">=</span>&lt;library&gt;
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>Specify<span class="w"> </span>the<span class="w"> </span>C++<span class="w"> </span>standard<span class="w"> </span>library<span class="w"> </span>to<span class="w"> </span>use<span class="p">;</span><span class="w"> </span>supported<span class="w"> </span>options<span class="w"> </span>are<span class="w"> </span>libstdc++<span class="w"> </span><span class="o">(</span>GNU<span class="w"> </span>GCC<span class="o">)</span><span class="w"> </span>and<span class="w"> </span>libc++<span class="w"> </span><span class="o">(</span>Clang<span class="o">)</span>.<span class="w"> </span>If<span class="w"> </span>not<span class="w"> </span>specified,<span class="w"> </span>platform<span class="w"> </span>default<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used.
</span></code></pre></div>
<p><a href="https://clang.llvm.org/docs/ClangCommandLineReference.html">Clang command line argument reference</a></p>
<p>Introduction:</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>-std-default<span class="o">=</span>&lt;arg&gt;
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>-stdlib<span class="o">=</span>&lt;arg&gt;,<span class="w"> </span>--stdlib<span class="o">=</span>&lt;arg&gt;,<span class="w"> </span>--stdlib<span class="w"> </span>&lt;arg&gt;
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>C++<span class="w"> </span>standard<span class="w"> </span>library<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>&lt;arg&gt;<span class="w"> </span>must<span class="w"> </span>be<span class="w"> </span>‘libc++’,<span class="w"> </span>‘libstdc++’<span class="w"> </span>or<span class="w"> </span>‘platform’.
</span></code></pre></div>
<p>Compilation options:</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>-std<span class="o">=</span>&lt;arg&gt;,<span class="w"> </span>--std<span class="o">=</span>&lt;arg&gt;,<span class="w"> </span>--std<span class="w"> </span>&lt;arg&gt;
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>Language<span class="w"> </span>standard<span class="w"> </span>to<span class="w"> </span>compile<span class="w"> </span><span class="k">for</span>
</span></code></pre></div>
<p><a href="https://alpaka.readthedocs.io/en/latest/advanced/compiler.html">Compiler Specifics — alpaka 1.0.0-rc1 documentation</a></p>
<p><a href="https://developer.apple.com/xcode/cpp/">C++ Language Support - Xcode - Apple Developer</a></p>
<p>Apple supports C++ with the Apple <code>Clang</code> compiler (included in Xcode) and the <code>libc++</code> C++ standard library runtime (included in SDKs and operating systems). The compiler and runtime are regularly updated to offer new functionality, including many leading-edge features specified by the ISO C++ standard.</p>
<p>关于静态链接，参考 <a href="https://clang.llvm.org/docs/ClangCommandLineReference.html">Clang command line argument reference</a> 相关选项：</p>
<ul>
<li>-static-libgcc</li>
<li>-static-libstdc++</li>
</ul>
<h4 id="libc">libc<a class="headerlink" href="#libc" title="Permanent link">#</a></h4>
<p><a href="https://clang.llvm.org/docs/UsersManual.html#c-language-features">C Language Features</a></p>
<p><a href="https://libc.llvm.org/">The LLVM C Library</a> is an incomplete, upcoming, ABI independent C standard library designed by and for the LLVM project.</p>
<div class="admonition warning">
<p class="admonition-title">libc incompleteness</p>
<p>The <code>libc</code> is not complete. If you need a fully functioning C library right now, you should continue to use your standard system libraries.</p>
</div>
<p>Xcode Project Settings | Language | C Language Dialect 对应 project.pbxproj 中 buildSettings 字典的 key = <code>GCC_C_LANGUAGE_STANDARD</code>。</p>
<h4 id="libc_1">libc++<a class="headerlink" href="#libc_1" title="Permanent link">#</a></h4>
<p><a href="https://clang.llvm.org/docs/UsersManual.html#cxx">C++ Language Features</a></p>
<p>The LLVM project includes an implementation of the C++ Standard Library named <code>libc++</code>, dual-licensed under the MIT License and the UIUC license.</p>
<p><a href="https://libcxx.llvm.org/">“libc++” C++ Standard Library — libc++ documentation</a></p>
<p><code>libc++</code> is a new implementation of the C++ standard library, targeting C++11 and above.</p>
<p>Xcode Project Settings | Language - C++:</p>
<ul>
<li>C++ Language Dialect 对应 project.pbxproj 中 buildSettings 字典的 key = <code>CLANG_CXX_LANGUAGE_STANDARD</code>。</li>
<li>C++ Standard Library 对应 project.pbxproj 中 buildSettings 字典的 key = <code>CLANG_CXX_LIBRARY</code>。</li>
</ul>
<h3 id="lldb">LLDB<a class="headerlink" href="#lldb" title="Permanent link">#</a></h3>
<p><a href="https://clang.llvm.org/docs/UsersManual.html#controlling-debug-information">Controlling Debug Information</a><br />
<a href="https://clang.llvm.org/docs/ClangCommandLineReference.html#debug-information-generation">Debug information generation</a></p>
<p><a href="https://lldb.llvm.org/">LLDB</a> - <a href="https://en.wikipedia.org/wiki/LLDB_(debugger)">wiki</a></p>
<ul>
<li><a href="https://lldb.llvm.org/use/map.html">GDB to LLDB command map</a></li>
<li><a href="https://lldb.llvm.org/use/tutorial.html">Tutorial</a></li>
<li><a href="https://lldb.llvm.org/resources/debugging.html">Debugging</a></li>
</ul>
<p><a href="https://developer.apple.com/library/archive/documentation/IDEs/Conceptual/gdb_to_lldb_transition_guide/document/lldb-basics.html">Getting Started with LLDB</a><br />
<a href="https://developer.apple.com/library/archive/documentation/IDEs/Conceptual/gdb_to_lldb_transition_guide/document/lldb-command-examples.html">GDB and LLDB Command Examples</a></p>
<p><a href="https://www.objc.io/issues/19-debugging/lldb-debugging/">Dancing in the Debugger — A Waltz with LLDB</a><br />
<a href="https://objccn.io/issue-19-2/">ObjC 中国 - 与调试器共舞 - LLDB 的华尔兹</a></p>
<h2 id="msvc">MSVC<a class="headerlink" href="#msvc" title="Permanent link">#</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Microsoft_Visual_C%2B%2B">MSVC</a></p>
<p><a href="https://learn.microsoft.com/en-us/visualstudio/install/install-visual-studio?view=vs-2022">Install Visual Studio</a><br />
<a href="https://learn.microsoft.com/en-us/visualstudio/windows/?view=vs-2022">Visual Studio documentation</a></p>
<h3 id="binutils">Binutils<a class="headerlink" href="#binutils" title="Permanent link">#</a></h3>
<p><a href="https://learn.microsoft.com/en-us/cpp/build/projects-and-build-systems-cpp?view=msvc-170&amp;redirectedfrom=MSDN">C/C++ projects and build systems in Visual Studio</a></p>
<p>Compiler and build tools reference - <a href="https://learn.microsoft.com/en-us/cpp/build/reference/c-cpp-building-reference?view=msvc-170">C/C++ Building Reference - Visual Studio</a></p>
<p><a href="https://learn.microsoft.com/en-us/cpp/build/building-on-the-command-line?view=msvc-170&amp;redirectedfrom=MSDN">Use the Microsoft C++ toolset from the command line</a></p>
<p>Win10 下安装的 VS2015，VC Binutils 在 <code>C:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\bin</code> 目录下：</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/cpp/build/reference/compiling-a-c-cpp-program?view=msvc-170">CL</a>: Use the compiler (<code>cl.exe</code>) to compile and link source code files into apps, libraries, and DLLs.</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/cpp/build/reference/linking?view=msvc-170">Link</a>: Use the linker (<code>link.exe</code>) to link compiled object files and libraries into apps and DLLs.</p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/cpp/build/reference/lib-reference?view=msvc-170">LIB.EXE</a> is used to create and manage a library of Common Object File Format (COFF) object files. It can also be used to create export files and import libraries to reference exported definitions.</p>
</li>
<li><a href="https://learn.microsoft.com/en-us/cpp/build/reference/editbin-reference?view=msvc-170">EDITBIN.EXE</a> is used to modify COFF binary files.</li>
<li><a href="https://learn.microsoft.com/en-us/cpp/build/reference/dumpbin-reference?view=msvc-170">DUMPBIN.EXE</a> displays information (such as a symbol table) about COFF binary files.</li>
<li><a href="https://learn.microsoft.com/en-us/cpp/build/reference/decorated-names?view=msvc-170">Decorated names</a> - Viewing undecorated names: You can use <code>undname.exe</code> to convert a decorated name to its undecorated form. ref to <a href="https://stackoverflow.com/questions/13777681/demangling-in-msvc">Demangling in MSVC - c++</a>.</li>
</ul>
<p><a href="https://learn.microsoft.com/en-us/cpp/build/reference/nmake-reference?view=msvc-170">NMAKE</a>: Use NMAKE (<code>nmake.exe</code>) reads and executes makefiles, to build C++ projects by using a traditional makefile.</p>
<p><a href="https://learn.microsoft.com/en-us/cpp/build/cmake-projects-in-visual-studio?view=msvc-170">CMake</a>: CMake (<code>cmake.exe</code>) is a cross-platform, open-source tool for defining build processes that run on multiple platforms.</p>
<p><a href="https://learn.microsoft.com/en-us/cpp/build/cmake-projects-in-visual-studio?view=msvc-170">CMake projects in Visual Studio</a></p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/cpp/build/walkthrough-build-debug-wsl2?view=msvc-170">Walkthrough: Build and Debug C++ with Microsoft Windows Subsystem for Linux 2 (WSL 2) and Visual Studio 2022</a></li>
<li><a href="https://learn.microsoft.com/en-us/cpp/build/clang-support-cmake?view=msvc-170">Clang/LLVM support in Visual Studio CMake projects</a></li>
</ul>
<h3 id="language_standards_2">Language Standards<a class="headerlink" href="#language_standards_2" title="Permanent link">#</a></h3>
<p><a href="https://learn.microsoft.com/en-us/cpp/build/reference/std-specify-language-standard-version?view=msvc-170">/std (Specify Language Standard Version)</a></p>
<p><a href="https://learn.microsoft.com/en-us/cpp/overview/compiler-versions?view=msvc-170">Microsoft C++ compiler versions</a></p>
<p><a href="https://learn.microsoft.com/en-us/cpp/overview/visual-cpp-in-visual-studio?view=msvc-170">C and C++ in Visual Studio</a><br />
<a href="https://learn.microsoft.com/en-us/cpp/overview/visual-cpp-language-conformance?view=msvc-170">Microsoft C/C++ language conformance</a><br />
<a href="https://learn.microsoft.com/en-us/cpp/overview/cpp-conformance-improvements?view=msvc-170">C++ conformance improvements in Visual Studio 2022</a></p>
<p><a href="https://learn.microsoft.com/en-us/cpp/?view=msvc-160">Microsoft C/C++ Documentation</a>: C++, C, and Assembler<br />
<a href="https://learn.microsoft.com/en-us/cpp/c-runtime-library/c-run-time-library-reference?view=msvc-160">C runtime library reference</a><br />
<a href="https://learn.microsoft.com/en-us/cpp/c-runtime-library/run-time-routines-by-category?view=msvc-160">Universal C runtime routines by category</a></p>
<p><a href="https://learn.microsoft.com/en-us/cpp/cpp/c-cpp-language-and-standard-libraries">C/C++ language and standard libraries reference</a></p>
<h3 id="windbg">WinDbg<a class="headerlink" href="#windbg" title="Permanent link">#</a></h3>
<p><a href="https://learn.microsoft.com/en-us/visualstudio/debugger/debugger-feature-tour?view=vs-2022">First look at the debugger - Visual Studio (Windows)</a></p>
<p><a href="https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools">Debugging Tools for Windows - Windows drivers</a></p>
<p><a href="http://www.windbg.org/">WinDbg</a> - <a href="https://en.wikipedia.org/wiki/WinDbg">wiki</a></p>
<p><a href="https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/">Install WinDbg</a></p>
<h2 id="refs">refs<a class="headerlink" href="#refs" title="Permanent link">#</a></h2>
<p><a href="https://accu.org/journals/overload/28/159/deak/">The Edge of C++</a></p>
<p><a href="https://www.incredibuild.com/blog/top-c-compilers">Top C++ Compilers - Incredibuild</a></p>
<p><a href="https://terminalroot.com/list-of-top-10-c-cpp-compilers/">List of Top 10 C/C++ Compilers</a></p>
<p><a href="https://alibabatech.medium.com/gcc-vs-clang-llvm-an-in-depth-comparison-of-c-c-compilers-899ede2be378">GCC vs. Clang/LLVM: An In-Depth Comparison of C/C++ Compilers</a></p>







  
  



  


  



  <h2 id="__comments">评论</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
    data-repo="fan2/mkdocs"
    data-repo-id="R_kgDOLltxSg"
    data-category="Announcements"
    data-category-id="DIC_kwDOLltxSs4CeURH"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="1"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
  </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../../20200201/compiler-toolchain/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Compiler Toolchain">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Compiler Toolchain
              </div>
            </div>
          </a>
        
        
          
          <a href="../../20200203/dump-compiler-options/" class="md-footer__link md-footer__link--next" aria-label="下一页: Dump Compiler Options">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Dump Compiler Options
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024- Cliff Fan
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["toc.follow", "header.autohide", "navigation.tabs", "navigation.top", "navigation.footer", "navigation.tracking", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.bd41221c.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://vercount.one/js"></script>
      
    
  </body>
</html>