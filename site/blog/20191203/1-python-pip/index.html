
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="在别处或在路上">
      
      
        <meta name="author" content="Cliff Fan">
      
      
        <link rel="canonical" href="https://duetorun.com/blog/20191203/1-python-pip/">
      
      
        <link rel="prev" href="../../20191202/9-python-package-installer/">
      
      
        <link rel="next" href="../2-python-module/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/hold_yourself.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>python包管理器--pip - ElseWhere</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/hide-nav-toc.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XGW41EGL31"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XGW41EGL31",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XGW41EGL31",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage_help" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ElseWhere" class="md-header__button md-logo" aria-label="ElseWhere" data-md-component="logo">
      
  <img src="../../../assets/hold_yourself.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ElseWhere
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              python包管理器--pip
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../link/" class="md-tabs__link">
        
  
  
    
  
  Link

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
  
    
    <div class="md-sidebar md-sidebar--primary rm-nav-desktop" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner">
          


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ElseWhere" class="md-nav__button md-logo" aria-label="ElseWhere" data-md-component="logo">
      
  <img src="../../../assets/hold_yourself.jpg" alt="logo">

    </a>
    ElseWhere
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Archive
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Archive
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2024
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2023
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2022/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2022
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2021/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2021
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2020/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2020
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2019/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2019
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2018/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2018
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2017/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2017
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2015/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2015
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2009/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2009
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Categories
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Categories
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/cs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/arm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    arm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/c/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    c
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/cpp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cpp
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    editor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/elf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    elf
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/excerpt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    excerpt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    git
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    linux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/macos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/markdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    markdown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/material/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    material
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/mkdocs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    mkdocs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nginx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    resource
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    shell
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/toolchain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    toolchain
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/ubuntu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ubuntu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    vim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/webdav/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    webDAV
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/wiki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    wiki
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/zsh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    zsh
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../link/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Link
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
        </div>
      </div>
    </div>
  
  
    
    
    <div class="md-sidebar md-sidebar--secondary " data-md-component="sidebar" data-md-type="toc">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner">
          

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usage_help" class="md-nav__link">
    <span class="md-ellipsis">
      
        usage help
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_-m_pip" class="md-nav__link">
    <span class="md-ellipsis">
      
        python -m pip
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade_pip" class="md-nav__link">
    <span class="md-ellipsis">
      
        upgrade pip
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade_packages" class="md-nav__link">
    <span class="md-ellipsis">
      
        upgrade packages
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="upgrade packages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#incompatible_conflicting_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        incompatible conflicting dependencies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency_requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        dependency requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dependency requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pip_install_from_requirementstxt" class="md-nav__link">
    <span class="md-ellipsis">
      
        pip install from requirements.txt
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pip_download_and_install_offline" class="md-nav__link">
    <span class="md-ellipsis">
      
        pip download and install offline
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pip_dep_and_autoremove" class="md-nav__link">
    <span class="md-ellipsis">
      
        pip dep and autoremove
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pip dep and autoremove">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method_1_manually_approach_with_pipdeptree" class="md-nav__link">
    <span class="md-ellipsis">
      
        Method 1: Manually approach with pipdeptree
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method_2_using_pip-autoremove_recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Method 2: Using pip-autoremove (Recommended)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
        </div>
      </div>
    </div>
  

          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../" class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    Back to index
                  </span>
                </a>
              </div>
            </div>
            
              <div class="md-post__authors md-typeset">
                
                  <div class="md-profile md-post__profile">
                    <span class="md-author md-author--long">
                      <img src="https://duetorun.com/assets/carve_yourself.jpg" alt="Cliff Fan">
                    </span>
                    <span class="md-profile__description">
                      <strong>
                        
                          Cliff Fan
                        
                      </strong>
                      <br>
                      Just do IT
                    </span>
                  </div>
                
              </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    Metadata
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2019-12-03 08:00:00+00:00" class="md-ellipsis">Dec 3, 2019</time>
                      </div>
                    </li>
                    
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg>
                          <span class="md-ellipsis">
                            in
                            
                              <a href="../../category/python/">python</a></span>
                        </div>
                      </li>
                    
                    
                      
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg>
                          <span class="md-ellipsis">
                            
                              7 min read
                            
                          </span>
                        </div>
                      </li>
                    
                    <!-- Add by Cliff.Fan, 29Mar24. -->
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 1-5 5v11l5-4.5zm2 4v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1M10 18.41C8.75 18.09 7.5 18 6.5 18c-1.06 0-2.32.19-3.5.5V7.13c.91-.4 2.14-.63 3.5-.63s2.59.23 3.5.63z"/></svg>
                        <span class="md-ellipsis" id="busuanzi_container_page_pv">
                          PV：<span id="busuanzi_value_page_pv">N/A</span>
                        </span>
                      </div>
                    </li>
                  </ul>
                </nav>
              </li>
            </ul>
            
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  


  <nav class="md-tags" >
    
      
      
      
      
        <span class="md-tag">pip</span>
      
    
  </nav>



  <h1>python包管理器--pip</h1>

<p>Python Package Installation Tool - pip.</p>
<!-- more -->

<p><a href="https://pypi.python.org/pypi/pip">pip</a></p>
<p>Github Page: <a href="https://github.com/pypa">pypa</a> / <a href="https://github.com/pypa/pip">pip</a>  </p>
<p>The <a href="https://packaging.python.org/en/latest/current/">PyPA recommended</a> tool for installing Python packages.<br />
pip works on Unix/Linux, macOS, and Windows.  </p>
<p><a href="https://wiki.python.org/moin/CheeseShopTutorial">Pip</a> is a modern, general purpose installation tool for python packages. Most often it is useful to install it in your system python.</p>
<p><a href="https://zh.wikipedia.org/wiki/Pip_(%E8%BB%9F%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1)">pip</a> 是一个以 Python 计算机程序语言写成的软件包管理系统，他可以安装和管理软件包。<br />
另外，不少的软件包也可以在 PyPI 中找到。  </p>
<h2 id="usage_help">usage help<a class="headerlink" href="#usage_help" title="Permanent link">#</a></h2>
<p>官方文档：<a href="https://pip.pypa.io/en/stable/#">Docs</a> » <a href="https://pip.pypa.io/en/stable/">pip</a>  </p>
<p>pip 和 pip3 带 <code>-h</code>(<code>--help</code>) 选项可查看帮助（Show help）。  </p>
<p>pip 的主要命令（Commands）如下：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pi@raspberrypi:~<span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>-h
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>Usage:<span class="w">   </span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span>pip<span class="w"> </span>&lt;command&gt;<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Commands:
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">  </span>install<span class="w">                     </span>Install<span class="w"> </span>packages.
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">  </span>download<span class="w">                    </span>Download<span class="w"> </span>packages.
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">  </span>uninstall<span class="w">                   </span>Uninstall<span class="w"> </span>packages.
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">  </span>freeze<span class="w">                      </span>Output<span class="w"> </span>installed<span class="w"> </span>packages<span class="w"> </span><span class="k">in</span><span class="w"> </span>requirements<span class="w"> </span>format.
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">  </span>list<span class="w">                        </span>List<span class="w"> </span>installed<span class="w"> </span>packages.
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">  </span>show<span class="w">                        </span>Show<span class="w"> </span>information<span class="w"> </span>about<span class="w"> </span>installed<span class="w"> </span>packages.
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">  </span>check<span class="w">                       </span>Verify<span class="w"> </span>installed<span class="w"> </span>packages<span class="w"> </span>have<span class="w"> </span>compatible<span class="w"> </span>dependencies.
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">  </span>search<span class="w">                      </span>Search<span class="w"> </span>PyPI<span class="w"> </span><span class="k">for</span><span class="w"> </span>packages.
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">  </span>wheel<span class="w">                       </span>Build<span class="w"> </span>wheels<span class="w"> </span>from<span class="w"> </span>your<span class="w"> </span>requirements.
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">  </span><span class="nb">hash</span><span class="w">                        </span>Compute<span class="w"> </span>hashes<span class="w"> </span>of<span class="w"> </span>package<span class="w"> </span>archives.
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">  </span>completion<span class="w">                  </span>A<span class="w"> </span>helper<span class="w"> </span><span class="nb">command</span><span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">command</span><span class="w"> </span>completion.
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">  </span><span class="nb">help</span><span class="w">                        </span>Show<span class="w"> </span><span class="nb">help</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>commands.
</span></code></pre></div>
<p>在终端输入 <code>pip3 help install</code> 可查看 pip install 命令的帮助说明。  </p>
<p>在 raspbian 下还可以输入 <code>man pip</code> / <code>man pip3</code> 查看 pip(3) 的 Manual Page：</p>
<ul>
<li>man pip：<code>/usr/share/man/man1/pip.1.gz</code>  </li>
<li>man pip3：<code>/usr/share/man/man1/pip3.1.gz</code>  </li>
</ul>
<blockquote>
<p><a href="http://blog.csdn.net/liuchunming033/article/details/39578019">Python的包管理工具pip的安装与使用</a><br />
<a href="http://www.ttlsa.com/python/how-to-install-and-use-pip-ttlsa/">pip安装使用详解</a> / <a href="http://www.cnblogs.com/xueweihan/p/4981704.html">python pip常用命令</a><br />
<a href="https://muzing.top/posts/594ac4a6/">Python 包管理工具 pip 详解</a></p>
</blockquote>
<h2 id="python_-m_pip">python -m pip<a class="headerlink" href="#python_-m_pip" title="Permanent link">#</a></h2>
<p>另外，也可以通过 <code>python3 -m pip</code> 执行指定 Python 配套的 pip。</p>
<blockquote>
<p><code>-m mod</code> : run library module as a script</p>
</blockquote>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># macOS</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>matplotlib
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Windows (may require elevation)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>matplotlib
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># Linux (Debian)</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>apt-get<span class="w"> </span>install<span class="w"> </span>python3-tk
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>matplotlib
</span></code></pre></div>
<p>假设我们用 brew 安装了多个 python，或者之前用过的 python 一直残留着没有移除。</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$<span class="w"> </span>ls<span class="w"> </span>-1<span class="w"> </span>/usr/local/Cellar/<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;python@&#39;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>python@3.10
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>python@3.11
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>python@3.12
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>python@3.8
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>python@3.9
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>$<span class="w"> </span>find<span class="w"> </span>/usr/local/Cellar/<span class="w"> </span>-type<span class="w"> </span>d<span class="w"> </span>-iname<span class="w"> </span><span class="s2">&quot;python@*&quot;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>/usr/local/Cellar/python@3.12
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>/usr/local/Cellar/python@3.10
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>/usr/local/Cellar/python@3.11
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>/usr/local/Cellar/python@3.8
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>/usr/local/Cellar/python@3.9
</span></code></pre></div>
<p>我们在之前的某个版本安装了一些工具包，后来忘了。那么怎么查找到当时用的那个版本呢？</p>
<p>在命令行执行 <code>python3 -m pip -V</code> 可以看到指定 python 版本的配套 pip 版本和 site-packages 位置。</p>
<ul>
<li>也可打印 <code>sys.path</code> 看看 modules 的搜索路径。</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># macOS Xcode command line tool 安装的 python3 的 site-packages 位置</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>-V
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>pip<span class="w"> </span><span class="m">21</span>.2.4<span class="w"> </span>from<span class="w"> </span>/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/site-packages/pip<span class="w"> </span><span class="o">(</span>python<span class="w"> </span><span class="m">3</span>.9<span class="o">)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># macOS brew 安装的 python3 的 site-packages 位置</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>-V
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>pip<span class="w"> </span><span class="m">24</span>.0<span class="w"> </span>from<span class="w"> </span>/usr/local/lib/python3.12/site-packages/pip<span class="w"> </span><span class="o">(</span>python<span class="w"> </span><span class="m">3</span>.12<span class="o">)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1"># conda base 中 site-packages 的位置</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>$<span class="w"> </span>pip<span class="w"> </span>-V
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>pip<span class="w"> </span><span class="m">23</span>.3.1<span class="w"> </span>from<span class="w"> </span>/usr/local/anaconda3/lib/python3.9/site-packages/pip<span class="w"> </span><span class="o">(</span>python<span class="w"> </span><span class="m">3</span>.9<span class="o">)</span>
</span></code></pre></div>
<p>可以指定python可执行文件的绝对路径，执行 <code>python -m pip list</code> 命令列出已安装的 site-packages。</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>$<span class="w"> </span>/usr/local/Cellar/python@3.8/3.8.18_2/bin/python3.8<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>list
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>$<span class="w"> </span>/usr/local/Cellar/python@3.9/3.9.18_2/bin/python3.9<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>list
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>$<span class="w"> </span>/usr/local/Cellar/python@3.10/3.10.13_2/bin/python3.10<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>list
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>$<span class="w"> </span>/usr/local/Cellar/python@3.11/3.11.7_2/bin/python3.11<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>list
</span></code></pre></div>
<h2 id="upgrade_pip">upgrade pip<a class="headerlink" href="#upgrade_pip" title="Permanent link">#</a></h2>
<p><a href="https://pip.pypa.io/en/stable/installing/#upgrading-pip">upgrade pip</a></p>
<p>On Linux or macOS:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>pip
</span></code></pre></div>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>pi@raspberrypi:~<span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>pip
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Collecting<span class="w"> </span>pip
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span>Downloading<span class="w"> </span>pip-9.0.1-py2.py3-none-any.whl<span class="w"> </span><span class="o">(</span><span class="m">1</span>.3MB<span class="o">)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="m">100</span>%<span class="w"> </span><span class="p">|</span>████████████████████████████████<span class="p">|</span><span class="w"> </span><span class="m">1</span>.3MB<span class="w"> </span>13kB/s<span class="w"> </span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>Installing<span class="w"> </span>collected<span class="w"> </span>packages:<span class="w"> </span>pip
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>Successfully<span class="w"> </span>installed<span class="w"> </span>pip-9.0.1
</span></code></pre></div>
<p>On Windows:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>pip
</span></code></pre></div>
<hr />
<p>运行 pip3 命令，提示新版本可供升级：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>faner@MBP-FAN:~<span class="p">|</span>⇒<span class="w">  </span>pip3<span class="w"> </span>list
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>DEPRECATION:<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>format<span class="w"> </span>will<span class="w"> </span>switch<span class="w"> </span>to<span class="w"> </span>columns<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>future.<span class="w"> </span>You<span class="w"> </span>can<span class="w"> </span>use<span class="w"> </span>--format<span class="o">=(</span>legacy<span class="p">|</span>columns<span class="o">)</span><span class="w"> </span><span class="o">(</span>or<span class="w"> </span>define<span class="w"> </span>a<span class="w"> </span><span class="nv">format</span><span class="o">=(</span>legacy<span class="p">|</span>columns<span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>your<span class="w"> </span>pip.conf<span class="w"> </span>under<span class="w"> </span>the<span class="w"> </span><span class="o">[</span>list<span class="o">]</span><span class="w"> </span>section<span class="o">)</span><span class="w"> </span>to<span class="w"> </span>disable<span class="w"> </span>this<span class="w"> </span>warning.
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>beautifulsoup4<span class="w"> </span><span class="o">(</span><span class="m">4</span>.6.0<span class="o">)</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>cppman<span class="w"> </span><span class="o">(</span><span class="m">0</span>.4.8<span class="o">)</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>html5lib<span class="w"> </span><span class="o">(</span><span class="m">1</span>.0.1<span class="o">)</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>pip<span class="w"> </span><span class="o">(</span><span class="m">9</span>.0.1<span class="o">)</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>setuptools<span class="w"> </span><span class="o">(</span><span class="m">36</span>.5.0<span class="o">)</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>six<span class="w"> </span><span class="o">(</span><span class="m">1</span>.11.0<span class="o">)</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>webencodings<span class="w"> </span><span class="o">(</span><span class="m">0</span>.5.1<span class="o">)</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>wheel<span class="w"> </span><span class="o">(</span><span class="m">0</span>.30.0<span class="o">)</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>You<span class="w"> </span>are<span class="w"> </span>using<span class="w"> </span>pip<span class="w"> </span>version<span class="w"> </span><span class="m">9</span>.0.1,<span class="w"> </span>however<span class="w"> </span>version<span class="w"> </span><span class="m">9</span>.0.3<span class="w"> </span>is<span class="w"> </span>available.
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>You<span class="w"> </span>should<span class="w"> </span>consider<span class="w"> </span>upgrading<span class="w"> </span>via<span class="w"> </span>the<span class="w"> </span><span class="s1">&#39;pip install --upgrade pip&#39;</span><span class="w"> </span>command.
</span></code></pre></div>
<p>按照提示运行 <code>pip install --upgrade pip</code>（<code>-U</code> = <code>--upgrade</code>）可升级 pip：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>faner@MBP-FAN:~<span class="p">|</span>⇒<span class="w">  </span>pip3<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>pip
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>Collecting<span class="w"> </span>pip
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span>Downloading<span class="w"> </span>pip-9.0.3-py2.py3-none-any.whl<span class="w"> </span><span class="o">(</span><span class="m">1</span>.4MB<span class="o">)</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="m">100</span>%<span class="w"> </span><span class="p">|</span>████████████████████████████████<span class="p">|</span><span class="w"> </span><span class="m">1</span>.4MB<span class="w"> </span>989kB/s<span class="w"> </span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>Installing<span class="w"> </span>collected<span class="w"> </span>packages:<span class="w"> </span>pip
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span>Found<span class="w"> </span>existing<span class="w"> </span>installation:<span class="w"> </span>pip<span class="w"> </span><span class="m">9</span>.0.1
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">    </span>Uninstalling<span class="w"> </span>pip-9.0.1:
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">      </span>Successfully<span class="w"> </span>uninstalled<span class="w"> </span>pip-9.0.1
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>Successfully<span class="w"> </span>installed<span class="w"> </span>pip-9.0.3
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>faner@MBP-FAN:~<span class="p">|</span>⇒<span class="w">  </span>pip3<span class="w"> </span>--version
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>pip<span class="w"> </span><span class="m">9</span>.0.3<span class="w"> </span>from<span class="w"> </span>/usr/local/lib/python3.6/site-packages<span class="w"> </span><span class="o">(</span>python<span class="w"> </span><span class="m">3</span>.6<span class="o">)</span>
</span></code></pre></div>
<blockquote>
<p>一般来说，更新 python(3) 时，自动会更新内置的 pip。</p>
</blockquote>
<h2 id="upgrade_packages">upgrade packages<a class="headerlink" href="#upgrade_packages" title="Permanent link">#</a></h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span><span class="k">$(</span>pip3<span class="w"> </span>list<span class="w"> </span>--outdated<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;NR&gt;2 {print $1}&#39;</span><span class="k">)</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>pip3<span class="w"> </span>list<span class="w"> </span>--outdated<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;NR&gt;2 {print $1}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>-n1<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>-U
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c1"># exclude xlrd or click</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>pip3<span class="w"> </span>list<span class="w"> </span>--outdated<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;NR&gt;2 &amp;&amp; $1 !~/xlrd/ {print $1}&#39;</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>pip3<span class="w"> </span>list<span class="w"> </span>--outdated<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;NR&gt;2 &amp;&amp; $1 !~/xlrd|click/ {print $1}&#39;</span>
</span></code></pre></div>
<ol>
<li><code>pip3 list --outdated</code> lists all Python packages that have newer versions available, output format looks like:</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>Package<span class="w">    </span>Version<span class="w"> </span>Latest<span class="w"> </span>Type
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>----------<span class="w"> </span>-------<span class="w"> </span>------<span class="w"> </span>-----
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>requests<span class="w">   </span><span class="m">2</span>.25.1<span class="w">  </span><span class="m">2</span>.28.1<span class="w"> </span>wheel
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>numpy<span class="w">      </span><span class="m">1</span>.21.0<span class="w">  </span><span class="m">1</span>.23.2<span class="w"> </span>wheel
</span></code></pre></div>
<ol start="2">
<li><code>awk 'NR&gt;2 {print $1}'</code> extracts the package names from the output of <code>pip3 list --outdated</code>:</li>
</ol>
<ul>
<li><code>NR&gt;2</code> skips the first 2 lines (header and separator line)</li>
<li><code>{print $1}</code> prints only the first column (package names)</li>
<li>This extracts just the package names: <code>requests</code>, <code>numpy</code>, etc.</li>
</ul>
<ol start="3">
<li><code>xargs -n1 pip3 install -U</code> installs each package one by one:</li>
</ol>
<ul>
<li><code>xargs</code> takes the package names from the previous command</li>
<li><code>-n1</code> processes one package name at a time</li>
<li><code>pip3 install -U</code> upgrades each package to its latest version</li>
</ul>
<p>The complete pipeline takes all your outdated Python packages and upgrades them one by one to their latest versions.</p>
<p>Example execution:</p>
<p>If you had outdated packages <code>requests</code> and <code>numpy</code>, this would effectively run:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>requests
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>pip3<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>numpy
</span></code></pre></div>
<h3 id="incompatible_conflicting_dependencies">incompatible conflicting dependencies<a class="headerlink" href="#incompatible_conflicting_dependencies" title="Permanent link">#</a></h3>
<p>执行 <code>pip3 install -U backrefs</code> 命令将 backrefs 5.9 升级到了最新的 6.0.1：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>$<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>backrefs
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>Requirement<span class="w"> </span>already<span class="w"> </span>satisfied:<span class="w"> </span>backrefs<span class="w"> </span><span class="k">in</span><span class="w"> </span>/Users/faner/.venv/lib/python3.13/site-packages<span class="w"> </span><span class="o">(</span><span class="m">5</span>.9<span class="o">)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>Collecting<span class="w"> </span>backrefs
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">  </span>Using<span class="w"> </span>cached<span class="w"> </span>backrefs-6.0.1-py313-none-any.whl.metadata<span class="w"> </span><span class="o">(</span><span class="m">3</span>.2<span class="w"> </span>kB<span class="o">)</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>Downloading<span class="w"> </span>backrefs-6.0.1-py313-none-any.whl<span class="w"> </span><span class="o">(</span><span class="m">400</span><span class="w"> </span>kB<span class="o">)</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>Installing<span class="w"> </span>collected<span class="w"> </span>packages:<span class="w"> </span>backrefs
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">  </span>Attempting<span class="w"> </span>uninstall:<span class="w"> </span>backrefs
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span>Found<span class="w"> </span>existing<span class="w"> </span>installation:<span class="w"> </span>backrefs<span class="w"> </span><span class="m">5</span>.9
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span>Uninstalling<span class="w"> </span>backrefs-5.9:
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">      </span>Successfully<span class="w"> </span>uninstalled<span class="w"> </span>backrefs-5.9
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>ERROR:<span class="w"> </span>pip<span class="err">&#39;</span>s<span class="w"> </span>dependency<span class="w"> </span>resolver<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>currently<span class="w"> </span>take<span class="w"> </span>into<span class="w"> </span>account<span class="w"> </span>all<span class="w"> </span>the<span class="w"> </span>packages<span class="w"> </span>that<span class="w"> </span>are<span class="w"> </span>installed.<span class="w"> </span>This<span class="w"> </span>behaviour<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>dependency<span class="w"> </span>conflicts.
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>mkdocs-material<span class="w"> </span><span class="m">9</span>.6.21<span class="w"> </span>requires<span class="w"> </span>backrefs~<span class="o">=</span><span class="m">5</span>.7.post1,<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>have<span class="w"> </span>backrefs<span class="w"> </span><span class="m">6</span>.0.1<span class="w"> </span>which<span class="w"> </span>is<span class="w"> </span>incompatible.
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>Successfully<span class="w"> </span>installed<span class="w"> </span>backrefs-6.0.1
</span></code></pre></div>
<p>报出 mkdocs-material 依赖的 <a href="https://pypi.org/project/backrefs/#history">backrefs 版本</a> 兼容错误（incompatible ERROR）。</p>
<p>我们可以借助 <a href="https://pypi.org/project/pipdeptree/">pipdeptree</a> 工具来查看包依赖关系。</p>
<p>执行 <code>pipdeptree -p mkdocs-material</code> 查看 mkdocs-material 的依赖信息，或执行 <code>pipdeptree -rp backrefs</code> 查看 backrefs 被依赖的信息，都提示 <code>Warning!!! Possibly conflicting dependencies found</code>：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>$<span class="w"> </span>pipdeptree<span class="w"> </span>-p<span class="w"> </span>mkdocs-material
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>Warning!!!<span class="w"> </span>Possibly<span class="w"> </span>conflicting<span class="w"> </span>dependencies<span class="w"> </span>found:
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>*<span class="w"> </span>mkdocs-material<span class="o">==</span><span class="m">9</span>.6.21
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w"> </span>-<span class="w"> </span>backrefs<span class="w"> </span><span class="o">[</span>required:<span class="w"> </span>~<span class="o">=</span><span class="m">5</span>.7.post1,<span class="w"> </span>installed:<span class="w"> </span><span class="m">6</span>.0.1<span class="o">]</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>------------------------------------------------------------------------
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>mkdocs-material<span class="o">==</span><span class="m">9</span>.6.21
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>├──<span class="w"> </span>babel<span class="w"> </span><span class="o">[</span>required:<span class="w"> </span>~<span class="o">=</span><span class="m">2</span>.10,<span class="w"> </span>installed:<span class="w"> </span><span class="m">2</span>.17.0<span class="o">]</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>├──<span class="w"> </span>backrefs<span class="w"> </span><span class="o">[</span>required:<span class="w"> </span>~<span class="o">=</span><span class="m">5</span>.7.post1,<span class="w"> </span>installed:<span class="w"> </span><span class="m">6</span>.0.1<span class="o">]</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>...
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>$<span class="w"> </span>pipdeptree<span class="w"> </span>-rp<span class="w"> </span>backrefs
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>Warning!!!<span class="w"> </span>Possibly<span class="w"> </span>conflicting<span class="w"> </span>dependencies<span class="w"> </span>found:
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>*<span class="w"> </span>mkdocs-material<span class="o">==</span><span class="m">9</span>.6.21
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w"> </span>-<span class="w"> </span>backrefs<span class="w"> </span><span class="o">[</span>required:<span class="w"> </span>~<span class="o">=</span><span class="m">5</span>.7.post1,<span class="w"> </span>installed:<span class="w"> </span><span class="m">6</span>.0.1<span class="o">]</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>------------------------------------------------------------------------
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="nv">backrefs</span><span class="o">==</span><span class="m">6</span>.0.1
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>└──<span class="w"> </span>mkdocs-material<span class="o">==</span><span class="m">9</span>.6.21<span class="w"> </span><span class="o">[</span>requires:<span class="w"> </span>backrefs~<span class="o">=</span><span class="m">5</span>.7.post1<span class="o">]</span>
</span></code></pre></div>
<p>mkdocs-material 9.6.21 依赖 backrefs~=5.7.post1，即与 5.7.post1 兼容的版本，一般大版本 5.* 至少要保持一致。这里激进升级到最新的 6.0.1，主版本已经是 6，提示出现兼容问题。</p>
<blockquote>
<p>mkdocs-material 9.6.21 requires backrefs~=5.7.post1, but you have backrefs 6.0.1 which is incompatible.</p>
</blockquote>
<p>参考 <a href="https://blog.csdn.net/u010339879/article/details/131884373">python requirements == 和 ~= 区别</a>，解决方案是卸载最新的 backrefs 6.0.1，指定安装版本 ==5.* 进行降级：</p>
<ol>
<li>pip uninstall backrefs</li>
<li>pip install backrefs==5.*</li>
</ol>
<p>回退后，重新执行 <code>pipdeptree -rp backrefs</code>，不再提示 Warning：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>$<span class="w"> </span>pipdeptree<span class="w"> </span>-rp<span class="w"> </span>backrefs
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="nv">backrefs</span><span class="o">==</span><span class="m">5</span>.9
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>└──<span class="w"> </span>mkdocs-material<span class="o">==</span><span class="m">9</span>.6.21<span class="w"> </span><span class="o">[</span>requires:<span class="w"> </span>backrefs~<span class="o">=</span><span class="m">5</span>.7.post1<span class="o">]</span>
</span></code></pre></div>
<p>可考虑使用 <a href="https://pip.pypa.io/en/stable/cli/pip_lock/">pip lock</a> 命令来生成 lock file，Lock packages and their dependencies.</p>
<h2 id="dependency_requirements">dependency requirements<a class="headerlink" href="#dependency_requirements" title="Permanent link">#</a></h2>
<p><code>pip freeze</code> Output installed packages in requirements format.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>pip<span class="w"> </span>freeze<span class="w"> </span>&gt;<span class="w"> </span>requirements.txt
</span></code></pre></div>
<p><a href="https://pypi.org/project/pipreqs/">pipreqs · PyPI</a> is a tool for generating the requirements.txt file containing project dependencies. It analyzes Python code within a project, automatically detects <em>third-party</em> libraries used, and generates the corresponding requirements.txt file.</p>
<p>Run <code>pip install pipreqs</code> to install pipreqs, then run <code>pipreqs</code> to generate project-specific package dependencies.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>pipreqs<span class="w"> </span>.<span class="w"> </span>--force<span class="w"> </span>--encoding<span class="o">=</span>utf8
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>pipreqs<span class="w"> </span>.<span class="w"> </span>--force<span class="w"> </span>--encoding<span class="o">=</span>utf8<span class="w"> </span>--savepath<span class="w"> </span>./dev-reqs.txt
</span></code></pre></div>
<ol>
<li><code>--force</code>: Overwrite existing requirements.txt</li>
<li><code>--encoding=utf8</code>: Specify the encoding of the requirements.txt file.</li>
<li><code>--savepath</code>: Specify the path to save the requirements.txt file.</li>
</ol>
<blockquote>
<p>如果提示 <code>No module named pipreqs.__main__; 'pipreqs' is a package and cannot be directly executed</code>，请改用 <code>pipreqs.pipreqs</code>。</p>
</blockquote>
<h3 id="pip_install_from_requirementstxt">pip install from requirements.txt<a class="headerlink" href="#pip_install_from_requirementstxt" title="Permanent link">#</a></h3>
<p><code>pip3 help install</code>: pip also supports installing from "requirements files", which provide an easy way to specify a whole environment to be installed.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="w">  </span>-r,<span class="w"> </span>--requirement<span class="w"> </span>&lt;file&gt;<span class="w">    </span>Install<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>given<span class="w"> </span>requirements<span class="w"> </span>file.<span class="w"> </span>This<span class="w"> </span>option<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>multiple<span class="w"> </span>times.
</span></code></pre></div>
<p>Specify <code>-r</code> or <code>--requirement</code> option to install required/dependent packages from a requirements file.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</span></code></pre></div>
<h3 id="pip_download_and_install_offline">pip download and install offline<a class="headerlink" href="#pip_download_and_install_offline" title="Permanent link">#</a></h3>
<p>For various reasons, operations personnel often need to deploy Python in production environments, and this inevitably involves installing its various packages. When connected to the internet, executing the <code>pip install</code> command completes the installation process. However, it's important to note that production servers are often disconnected from the internet. In such scenarios, installing third-party packages can be difficult. One solution is to download the required packages within the internal network environment first, and then transfer them to the production environment via SCP for offline installation.</p>
<ol>
<li>OA/UAT: Run <code>pip freeze &gt; requirements.txt</code> to collect all installed packages in requirements format.</li>
<li>OA/UAT: Run <code>pip download -r requirements.txt -d ./offline_packages</code> to download all packages in the requirements file.</li>
<li>PROD: Run <code>pip install -r requirements.txt --no-index --find-links=./offline_packages</code> to install required dependency packages from local index/cache.</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>$<span class="w"> </span>pip3<span class="w"> </span><span class="nb">help</span><span class="w"> </span>download
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>Package<span class="w"> </span>Index<span class="w"> </span>Options:
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">  </span>--no-index<span class="w">                  </span>Ignore<span class="w"> </span>package<span class="w"> </span>index<span class="w"> </span><span class="o">(</span>only<span class="w"> </span>looking<span class="w"> </span>at<span class="w"> </span>--find-links<span class="w"> </span>URLs<span class="w"> </span>instead<span class="o">)</span>.
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span>-f,<span class="w"> </span>--find-links<span class="w"> </span>&lt;url&gt;<span class="w">      </span>If<span class="w"> </span>a<span class="w"> </span>URL<span class="w"> </span>or<span class="w"> </span>path<span class="w"> </span>to<span class="w"> </span>an<span class="w"> </span>html<span class="w"> </span>file,<span class="w"> </span><span class="k">then</span><span class="w"> </span>parse<span class="w"> </span><span class="k">for</span><span class="w"> </span>links<span class="w"> </span>to<span class="w"> </span>archives<span class="w"> </span>such<span class="w"> </span>as
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">                              </span>sdist<span class="w"> </span><span class="o">(</span>.tar.gz<span class="o">)</span><span class="w"> </span>or<span class="w"> </span>wheel<span class="w"> </span><span class="o">(</span>.whl<span class="o">)</span><span class="w"> </span>files.<span class="w"> </span>If<span class="w"> </span>a<span class="w"> </span><span class="nb">local</span><span class="w"> </span>path<span class="w"> </span>or<span class="w"> </span>file://<span class="w"> </span>URL<span class="w"> </span>that<span class="err">&#39;</span>s<span class="w"> </span>a
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">                              </span>directory,<span class="w"> </span><span class="k">then</span><span class="w"> </span>look<span class="w"> </span><span class="k">for</span><span class="w"> </span>archives<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>directory<span class="w"> </span>listing.<span class="w"> </span>Links<span class="w"> </span>to<span class="w"> </span>VCS
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">                              </span>project<span class="w"> </span>URLs<span class="w"> </span>are<span class="w"> </span>not<span class="w"> </span>supported.
</span></code></pre></div>
<h2 id="pip_dep_and_autoremove">pip dep and autoremove<a class="headerlink" href="#pip_dep_and_autoremove" title="Permanent link">#</a></h2>
<h3 id="method_1_manually_approach_with_pipdeptree">Method 1: Manually approach with pipdeptree<a class="headerlink" href="#method_1_manually_approach_with_pipdeptree" title="Permanent link">#</a></h3>
<ol>
<li>Check dependencies before uninstalling:</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># pipdeptree -p</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>pipdeptree<span class="w"> </span>--packages<span class="w"> </span>package_name
</span></code></pre></div>
<ol start="2">
<li>List reverse dependencies to see what depends on each package:</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># pipdeptree -rp</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>pipdeptree<span class="w"> </span>--reverse<span class="w"> </span>--packages<span class="w"> </span>dependency_name
</span></code></pre></div>
<ol start="3">
<li>Manually uninstall packages that are only used by your target package:</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>pip3<span class="w"> </span>uninstall<span class="w"> </span>package_name<span class="w"> </span>dependency1<span class="w"> </span>dependency2<span class="w"> </span>...
</span></code></pre></div>
<h3 id="method_2_using_pip-autoremove_recommended">Method 2: Using pip-autoremove (Recommended)<a class="headerlink" href="#method_2_using_pip-autoremove_recommended" title="Permanent link">#</a></h3>
<p>First install the tool:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>pip-autoremove
</span></code></pre></div>
<p>Using pip-autoremove with dry-run to see what would be removed without actually doing it:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>pip-autoremove<span class="w"> </span>package_name<span class="w"> </span>--dry-run
</span></code></pre></div>
<p>Then use it to remove a package and its unused dependencies:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>pip-autoremove<span class="w"> </span>package_name<span class="w"> </span>-y
</span></code></pre></div>







  
  



  


  



  <h2 id="__comments">Comments</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
    data-repo="fan2/mkdocs"
    data-repo-id="R_kgDOLltxSg"
    data-category="Announcements"
    data-category-id="DIC_kwDOLltxSs4CeURH"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="1"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
  </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../20191202/9-python-package-installer/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Python Package Installer - easy_install &amp; pip">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Python Package Installer - easy_install & pip
              </div>
            </div>
          </a>
        
        
          
          <a href="../2-python-module/" class="md-footer__link md-footer__link--next" aria-label="Next: python包和模块">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                python包和模块
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025- Cliff Fan
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["toc.follow", "header.autohide", "navigation.tabs", "navigation.top", "navigation.footer", "navigation.tracking", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://vercount.one/js"></script>
      
    
  </body>
</html>