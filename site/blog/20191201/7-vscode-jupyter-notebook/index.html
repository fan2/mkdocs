
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="在别处或在路上">
      
      
        <meta name="author" content="Cliff Fan">
      
      
        <link rel="canonical" href="https://duetorun.com/blog/20191201/7-vscode-jupyter-notebook/">
      
      
        <link rel="prev" href="../6-JupyterNotebook-JupyterLab/">
      
      
        <link rel="next" href="../../20191202/python-expr/">
      
      
      <link rel="icon" href="../../../assets/hold_yourself.jpg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.15">
    
    
      
        <title>vscode Jupyter Notebook - ElseWhere</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-XGW41EGL31"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-XGW41EGL31",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-XGW41EGL31",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#vscode_jupyter" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="ElseWhere" class="md-header__button md-logo" aria-label="ElseWhere" data-md-component="logo">
      
  <img src="../../../assets/hold_yourself.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ElseWhere
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              vscode Jupyter Notebook
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../link/" class="md-tabs__link">
        
  
    
  
  Link

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ElseWhere" class="md-nav__button md-logo" aria-label="ElseWhere" data-md-component="logo">
      
  <img src="../../../assets/hold_yourself.jpg" alt="logo">

    </a>
    ElseWhere
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2017
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/command/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    command
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/editor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    editor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/excerpt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    excerpt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/macos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    macOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    markdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/material/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    material
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/mkdocs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mkdocs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/nginx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nginx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/resource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    resource
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/samba/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    samba
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ubuntu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/webdav/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webDAV
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/wiki/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wiki
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/zsh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    zsh
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../link/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Link
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vscode_jupyter" class="md-nav__link">
    <span class="md-ellipsis">
      vscode Jupyter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="vscode Jupyter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyter_code_cells" class="md-nav__link">
    <span class="md-ellipsis">
      Jupyter Code Cells
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyter_notebook" class="md-nav__link">
    <span class="md-ellipsis">
      Jupyter Notebook
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notebook_cell_operations" class="md-nav__link">
    <span class="md-ellipsis">
      Notebook Cell Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notebook Cell Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#折叠cell" class="md-nav__link">
    <span class="md-ellipsis">
      折叠cell
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outline中显示cells" class="md-nav__link">
    <span class="md-ellipsis">
      outline中显示Cells
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#鼠标拖拽上下移动" class="md-nav__link">
    <span class="md-ellipsis">
      鼠标拖拽上下移动
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#显示行号" class="md-nav__link">
    <span class="md-ellipsis">
      显示行号
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run__debug_cell" class="md-nav__link">
    <span class="md-ellipsis">
      Run &amp; Debug Cell
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run & Debug Cell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requires_ipykernel_package" class="md-nav__link">
    <span class="md-ellipsis">
      requires ipykernel package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importrun_across_cells" class="md-nav__link">
    <span class="md-ellipsis">
      import/run across cells
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug_cell" class="md-nav__link">
    <span class="md-ellipsis">
      Debug Cell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notebook_diffing" class="md-nav__link">
    <span class="md-ellipsis">
      notebook diffing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conversion" class="md-nav__link">
    <span class="md-ellipsis">
      conversion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unittest" class="md-nav__link">
    <span class="md-ellipsis">
      unittest
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../" class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
                  <span class="md-ellipsis">
                    回到主页
                  </span>
                </a>
              </div>
            </div>
            
              <div class="md-post__authors md-typeset">
                
                  <div class="md-profile md-post__profile">
                    <span class="md-author md-author--long">
                      <img src="https://duetorun.com/assets/carve_yourself.jpg" alt="Cliff Fan">
                    </span>
                    <span class="md-profile__description">
                      <strong>
                        
                          Cliff Fan
                        
                      </strong>
                      <br>
                      Just do IT
                    </span>
                  </div>
                
              </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    元数据
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg>
                        <time datetime="2019-12-01 11:00:00" class="md-ellipsis">2019年12月1日</time>
                      </div>
                    </li>
                    
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg>
                          <span class="md-ellipsis">
                            分类于
                            
                              <a href="../../category/python/">python</a></span>
                        </div>
                      </li>
                    
                    
                      
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg>
                          <span class="md-ellipsis">
                            
                              需要 6 分钟阅读时间
                            
                          </span>
                        </div>
                      </li>
                    
                    <!-- Add by Cliff.Fan, 29Mar24. -->
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 1-5 5v11l5-4.5V1m2 4v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5-1.95 0-4.05.4-5.5 1.5v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1M10 18.41C8.75 18.09 7.5 18 6.5 18c-1.06 0-2.32.19-3.5.5V7.13c.91-.4 2.14-.63 3.5-.63 1.36 0 2.59.23 3.5.63v11.28Z"/></svg>
                        <span class="md-ellipsis" id="busuanzi_container_page_pv">
                          阅读量：<span id="busuanzi_value_page_pv">N/A</span>
                        </span>
                      </div>
                    </li>
                  </ul>
                </nav>
              </li>
            </ul>
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  
  

<nav class="md-tags" >
  
    
    
    
      <span class="md-tag">vscode</span>
    
  
    
    
    
      <span class="md-tag">Jupyter</span>
    
  
</nav>



  <h1>vscode Jupyter Notebook</h1>

<p>vscode 中 Jupyter Notebook 使用简介。</p>
<!-- more -->

<h2 id="vscode_jupyter">vscode Jupyter<a class="headerlink" href="#vscode_jupyter" title="Permanent link">#</a></h2>
<p><a href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks">Jupyter Notebooks in VS Code</a></p>
<ul>
<li>Setting up your environment</li>
<li>Workspace Trust</li>
<li>Create or open a Jupyter Notebook</li>
<li>Running cells</li>
<li>Save your Jupyter Notebook</li>
<li>Export your Jupyter Notebook</li>
<li>Work with code cells in the Notebook Editor</li>
<li>Table of Contents</li>
<li>IntelliSense support in the Jupyter Notebook Editor</li>
<li>Variable Explorer and Data Viewer</li>
<li>Saving plots</li>
<li>Custom notebook diffing</li>
<li>Debug a Jupyter Notebook</li>
<li>Connect to a remote Jupyter server</li>
<li>Data Science profile template</li>
</ul>
<p><a href="https://code.visualstudio.com/docs/python/jupyter-support-py">Python Interactive</a></p>
<ul>
<li>Jupyter code cells</li>
<li>Using the Python Interactive window</li>
<li>Variables Explorer and Data Viewer</li>
<li>Connect to a remote Jupyter server</li>
<li>Convert Jupyter notebooks to Python code file</li>
<li>Debug a Jupyter notebook</li>
<li>Export a Jupyter notebook</li>
</ul>
<p><a href="https://blog.csdn.net/acktomas/article/details/119616895">在VS Code中使用Jupyter Notebooks</a></p>
<p><a href="https://jupyter.org/install">Jupyter</a> 插件已经 Deprecated，只需要安装 <a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">Microsoft Python</a> 插件即可，微软官方提供了 Python 插件已经内嵌打包了 Jupyter 插件（可通过 Extension Pack 查看）。</p>
<ol>
<li>
<p><code>Python</code>: IntelliSense (Pylance), Linting, Debugging (multi-threaded, remote), Jupyter Notebooks, code formatting, refactoring, unit tests, and more.</p>
<ul>
<li>Extension Pack: <code>Pylance</code>, <code>Jupyter</code> and <code>isort</code>.</li>
</ul>
</li>
<li>
<p><code>Jupyter</code>: Jupyter notebook support, interactive programming and computing that supports Intellisense, debugging and more.</p>
<ul>
<li>Extension Pack: <code>Jupyter Keymap</code>, <code>Jupyter Notebook Renderers</code>, <code>Jupyter Slide Show</code>, <code>Jupyter Cell Tags</code>.</li>
</ul>
</li>
</ol>
<p>在 Command Palette 中输入 <code>Jupyter:</code> 可查看相关命令。</p>
<h3 id="jupyter_code_cells">Jupyter Code Cells<a class="headerlink" href="#jupyter_code_cells" title="Permanent link">#</a></h3>
<p>Python Interactive - <a href="https://code.visualstudio.com/docs/python/jupyter-support-py#_jupyter-code-cells">Jupyter code cells</a></p>
<ul>
<li>You define Jupyter-like code cells within Python code using a <code># %%</code> comment.</li>
</ul>
<p><a href="https://blog.csdn.net/qq_20084101/article/details/84146676">VSCode 编写 Python 支持 Jupyter notebook 了</a>  </p>
<p>Jupyter notebook是逐个cell依次执行，那在VS Code要怎么做到这点呢？</p>
<p>在 vscode 控制面板中，点选 <code>Jupyter: Add Empty Cell to File</code>，将会在光标处插入 <code># %%</code>。</p>
<p>在 vscode 中创建文本文件，将 Language Mode 设定为 Python，以 <code>#%%</code> 开头即会被识别为一个 Jupyter Cell，方便快捷调试。  </p>
<div class="language-Python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">#%%</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;hello, world&#39;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></code></pre></div>
<p><img alt="vscode-Jupyter-Cell" src="../../python/images/vscode-Jupyter-Cell.png" /></p>
<h3 id="jupyter_notebook">Jupyter Notebook<a class="headerlink" href="#jupyter_notebook" title="Permanent link">#</a></h3>
<p><a href="https://cangmang.xyz/articles/1642849032438">如何在vscode中使用Jupyter Notebook</a><br />
<a href="https://pythonviz.com/colab-jupyter/visual-studio-code-jupyter-notebook-integration/">VSCode 中 Jupyter Notebook 互动编程</a></p>
<p>Jupyter Notebooks - <a href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_create-or-open-a-jupyter-notebook">Create or open a Jupyter Notebook</a></p>
<p>在 vscode 控制面板中，点选 <code>Create: New Jupyter Notebook</code> 则会创建一个新的 Notebook（Untitled-1.ipynb）。</p>
<blockquote>
<p>ipynb 为 IPython Note Book 后缀。</p>
</blockquote>
<p>vscode 也支持直接打开 Notebook 文件（*.ipynb），进行编辑运行。</p>
<p>Jupyter Notebooks - <a href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_work-with-code-cells-in-the-notebook-editor">Work with code cells in the Notebook Editor</a></p>
<p><strong>代码单元格模式</strong>：</p>
<p>在处理代码单元时，单元格可以处于三种状态：未选定、命令模式和编辑模式。单元格的当前状态由代码单元和编辑器边框左侧的垂直条表示。<br />
当看不到左侧垂直条和聚焦边框时，单元格是未选定状态。</p>
<p><strong>添加其他代码单元格</strong>：</p>
<p>支持 + Code、+ Markdown 创建代码或Markdown Cell，方便写代码兼做笔记。</p>
<p><strong>InterelliSense</strong>：</p>
<p>Jupyter Notebooks - <a href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_intellisense-support-in-the-jupyter-notebook-editor">IntelliSense support in the Jupyter Notebook Editor</a></p>
<p>vscode 中编辑 Jupyter Notebooks，提供完整的 InterelliSense 支持，包括代码自动完成、成员列表、方法的快速信息和参数提示。<br />
在 Notebooks 编辑器窗口中，您可以与在代码编辑器中一样高效地输入书写Python代码。</p>
<h2 id="notebook_cell_operations">Notebook Cell Operations<a class="headerlink" href="#notebook_cell_operations" title="Permanent link">#</a></h2>
<h3 id="折叠cell">折叠cell<a class="headerlink" href="#折叠cell" title="Permanent link">#</a></h3>
<p>当有多个Code Cell且cell代码很长时，可考虑将暂时不看的cell折叠起来，以便聚焦当前cell。</p>
<p>点击Cell边框外拖拽区左侧的蓝色bar可折叠当前Cell。</p>
<p><a href="https://stackoverflow.com/questions/66876197/vs-code-editing-ipynb-file-how-to-collapse-notebook-cells">python - VS Code editing .ipynb file: How to collapse notebook cells? - Stack Overflow</a></p>
<p>Notebook cells have a blue bar on the left side to indicate that they are focused.<br />
This bar is now interactive - you can click the top part to collapse the cell input, and the bottom part to collapse the output.</p>
<p><strong>vscode settings</strong>:</p>
<p>Notebook: Show Folding Controls</p>
<ul class="task-list">
<li>Controls when the Markdown header folding arrow is shown.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> mouseover</li>
</ul>
<h3 id="outline中显示cells">outline中显示Cells<a class="headerlink" href="#outline中显示cells" title="Permanent link">#</a></h3>
<p>当有多个Code Cell且cell代码很长时，除了可以在编辑区将暂时不看的cell折叠起来，也可在 Breadcrumbs(<code>⌥M</code>) 导航cells。</p>
<p><strong>vscode settings</strong>:</p>
<p>Notebook › Breadcrumbs: Show Code Cells ("notebook.breadcrumbs.showCodeCells": true)</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> When enabled notebook breadcrumbs contain code cells.</li>
</ul>
<p>也可配置使Code Cells显示在outline视图中，然后在 outline 视图中点击快速定位跳转。</p>
<p><strong>vscode settings</strong>:</p>
<p>Notebook › Outline: Show Code Cells ("notebook.outline.showCodeCells": true)</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> When enabled notebook outline shows code cells.</li>
</ul>
<h3 id="鼠标拖拽上下移动">鼠标拖拽上下移动<a class="headerlink" href="#鼠标拖拽上下移动" title="Permanent link">#</a></h3>
<p>在 Cell 边框线左侧 Gutter 区鼠标拖动支持 Move Up/Down，上下移动调整 cell 的位置。</p>
<p><strong>vscode settings</strong>:</p>
<p>Notebook: Drag And Drop Enabled ("notebook.dragAndDropEnabled": true)</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Control whether the notebook editor should allow moving cells through drag and drop.</li>
</ul>
<h3 id="显示行号">显示行号<a class="headerlink" href="#显示行号" title="Permanent link">#</a></h3>
<p>Cell Toobar 更多点选 Show Cell Line Numbers，显示行号。</p>
<p><strong>vscode settings</strong>:</p>
<p>Notebook: Line Numbers ("notebook.lineNumbers": "on")</p>
<p>Controls the display of line numbers in the cell editor.</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> on</li>
</ul>
<h3 id="output">output<a class="headerlink" href="#output" title="Permanent link">#</a></h3>
<p>Code Cell 运行结果（output）可能输出行宽度超出编辑器，可以打开 <code>wordWrap</code> 选项：</p>
<p>Notebook › Output: Word Wrap ("notebook.output.wordWrap": true)</p>
<ul>
<li>Controls whether the lines in output should wrap.</li>
</ul>
<p>Code Cell 运行结果（output）默认输出30行，如果输出超长会截断并提示：</p>
<blockquote>
<p>Output is truncated. View as a scrollable element or open in a text editor.</p>
</blockquote>
<p>可以打开 <code>scrolling</code> 选项，支持纵向滚动：</p>
<p>Notebook › Output: Scrolling ("notebook.output.scrolling": true)</p>
<ul>
<li>Initially render notebook outputs in a scrollable region when longer than the limit.</li>
</ul>
<p>也可修改默认的行数限制 <code>textLineLimit</code>：</p>
<p>Notebook › Output: Text Line Limit ("notebook.output.textLineLimit": 100)</p>
<ul>
<li>Controls how many lines of text are displayed in a text output.</li>
</ul>
<h2 id="run__debug_cell">Run &amp; Debug Cell<a class="headerlink" href="#run__debug_cell" title="Permanent link">#</a></h2>
<p>Jupyter Notebooks - <a href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_running-cells">Running cells</a></p>
<ul>
<li>Execute Cell: <code>⌃Enter</code></li>
<li>Debug Cell: <code>⌃⇧Enter</code></li>
</ul>
<h3 id="requires_ipykernel_package">requires ipykernel package<a class="headerlink" href="#requires_ipykernel_package" title="Permanent link">#</a></h3>
<p>vscode 打开普通 Python File，然后在右上角 ▶︎ 按钮下拉选择 <code>Run Current File in Interactive Window</code>，或在 Notebook 的右上角选择 Kernel 为最新 brew 更新的 python3.12，提示 requires the ipykernel package：</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Running<span class="w"> </span>cells<span class="w"> </span>with<span class="w"> </span><span class="s1">&#39;/usr/local/bin/python3.12&#39;</span><span class="w"> </span>requires<span class="w"> </span>the<span class="w"> </span>ipykernel<span class="w"> </span>package.<span class="w">  </span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>Run<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span><span class="nb">command</span><span class="w"> </span>to<span class="w"> </span>install<span class="w"> </span><span class="s1">&#39;ipykernel&#39;</span><span class="w"> </span>into<span class="w"> </span>the<span class="w"> </span>Python<span class="w"> </span>environment.<span class="w">   </span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Command:<span class="w"> </span><span class="s1">&#39;/usr/local/bin/python3.12 -m pip install ipykernel -U --user --force-reinstall&#39;</span>
</span></code></pre></div>
<p>具体参考 <a href="https://github.com/microsoft/vscode-jupyter/wiki/Jupyter-Kernels-and-the-Jupyter-Extension#python-extension-and-ipykernel">Jupyter Kernels and the Jupyter Extension · microsoft/vscode-jupyter Wiki</a>。</p>
<p>ipykernel 是 IPython Kernel for Jupyter，brew 更新安装最新的 python3.12 默认没有安装，需要自行安装。<br />
可执行 <code>pip3 show ipykernel</code> 核实是否安装，在 conda base 中核实有安装：</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># macOS 没有安装</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>$<span class="w"> </span>pip3<span class="w"> </span>show<span class="w"> </span>ipykernel
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>WARNING:<span class="w"> </span>Package<span class="o">(</span>s<span class="o">)</span><span class="w"> </span>not<span class="w"> </span>found:<span class="w"> </span>ipykernel
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1"># conda base 中有安装</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>$<span class="w"> </span>conda<span class="w"> </span>list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ipy
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>$<span class="w"> </span>conda<span class="w"> </span>activate<span class="w"> </span>base
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>$<span class="w"> </span>pip3<span class="w"> </span>show<span class="w"> </span>ipykernel
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>Name:<span class="w"> </span>ipykernel
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>Version:<span class="w"> </span><span class="m">6</span>.28.0
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>Summary:<span class="w"> </span>IPython<span class="w"> </span>Kernel<span class="w"> </span><span class="k">for</span><span class="w"> </span>Jupyter
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>Location:<span class="w"> </span>/usr/local/anaconda3/lib/python3.9/site-packages
</span></code></pre></div>
<p>由于anaconda的科学计算工具包比较齐全，可考虑直接使用 conda base kernel 用于 vscode Notebook 调试。</p>
<p>如果想体验 macOS brew 升级的最新 python3.12 的某些新功能特性，可以自行使用 pip3 安装 ipykernel。</p>
<p>参考：</p>
<p><a href="https://www.reddit.com/r/learnpython/comments/11hdcox/vscode_jupyter_notebook_requires_ipykernel/">Vscode jupyter notebook requires ipykernel : r/learnpython</a></p>
<p>Make sure to install the Jupyter extension, first.<br />
Then Press Command+Shift+P to open a new command pallete,<br />
Type &gt;Python: Select Intepreter to start jupyter notebook server</p>
<p><a href="https://github.com/microsoft/vscode-python/issues/20306">ipykernel not detected ('Running cells with 3.9.13 (base) requires ipykernel package installed or requires an update') · Issue #20306 · microsoft/vscode-python</a></p>
<p><a href="https://stackoverflow.com/questions/64997553/python-requires-ipykernel-to-be-installed">visual studio code - Python requires ipykernel to be installed - Stack Overflow</a></p>
<h3 id="importrun_across_cells">import/run across cells<a class="headerlink" href="#importrun_across_cells" title="Permanent link">#</a></h3>
<p>当有多个Cell时，由于每个Cell都是可以独立执行，可能会import导入重复的模块。</p>
<p>可考虑将第一个 Cell 专用作 import Cell，后面其他 Cell 所需的模块都集中在此 import。<br />
每当第一个 Cell 导入了新模块后，重新运行该 Cell 导入更新生效，后续就无需重复导入了。</p>
<ul>
<li><a href="https://jupyter-notebook.readthedocs.io/en/stable/examples/Notebook/Importing%20Notebooks.html">Importing Jupyter Notebooks as Modules</a></li>
</ul>
<p>运行过的Cell代码，已经导入到同一上下文中，因此可以执行跨Cell相互调用（类/函数），或在一个Cell中为其他Cell编写单元测试。</p>
<p><img alt="vscode-Jupyter-Notebook" src="../../python/images/vscode-Jupyter-Notebook.png" /></p>
<h3 id="debug_cell">Debug Cell<a class="headerlink" href="#debug_cell" title="Permanent link">#</a></h3>
<ul>
<li><a href="https://github.com/microsoft/vscode-jupyter/wiki/How-notebook-debug-cell-works">How notebook debug cell works · microsoft/vscode-jupyter Wiki</a></li>
<li><a href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks">Jupyter Notebooks in VS Code</a> - Debug a Jupyter Notebook</li>
<li><a href="https://code.visualstudio.com/docs/python/jupyter-support-py">Python Interactive</a> - Debug a Jupyter notebook</li>
</ul>
<p>There are two different ways to debug a Jupyter notebook: </p>
<ul>
<li>a simpler mode called <code>Run by Line</code>, first button in the cell toolbar;</li>
<li>full debugging mode - <code>Debug Cell</code> adornment that appears above the cell.</li>
</ul>
<p>If you want to use the full set of debugging features supported in VS Code, such as breakpoints and the ability to step in to other cells and modules, you can use the <em>full</em> VS Code debugger.</p>
<ol>
<li>Start by setting any <strong>breakpoints</strong> you need by clicking in the left margin of a notebook cell.</li>
<li>Then select the <code>Debug Cell</code> button in the menu next to the Run button. This will run the cell in a debug session, and will pause on your breakpoints in any code that runs, even if it is in a <em>different</em> cell or a <code>.py</code> file.</li>
<li>You can use the Debug view, Debug Console, and all the buttons in the Debug Toolbar as you normally would in VS Code.</li>
</ol>
<p>可执行跨Cell调用断点调试。</p>
<h2 id="notebook_diffing">notebook diffing<a class="headerlink" href="#notebook_diffing" title="Permanent link">#</a></h2>
<p><a href="https://stackoverflow.com/questions/67220559/viewing-ipython-notebooks-line-based-diff-in-vs-code-while-using-the-python-ext">Viewing Ipython Notebooks' line based diff in VS Code while using the Python extension - Stack Overflow</a><br />
<a href="https://github.com/microsoft/vscode-jupyter/discussions/10742">SOLVED - Have vscode-jupyter do proper diffing in Git · microsoft/vscode-jupyter · Discussion #10742</a></p>
<p>vscode 中 Jupyter Notebook 文件 *.ipynb 有改动时，在左侧 SOURCE CONTROL 中 git changes 双击打开 diff，可能无法展示改动点。</p>
<p><a href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_custom-notebook-diffing">Custom notebook diffing</a></p>
<ol>
<li>更多里勾选 Show Metadata Differences，不勾选 Show Output Differences，勾选 Show Moved Code Blocks。</li>
<li>如果还是不显示diff，点击右上角工具条的 Open Text Diff Editor 直接比较文本内容。</li>
<li>可点击右上角工具条的 Toggle Collapse Unchanged Regions，隐藏未变动的部分。</li>
</ol>
<h2 id="conversion">conversion<a class="headerlink" href="#conversion" title="Permanent link">#</a></h2>
<p>Jupyter Notebooks - <a href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_export-your-jupyter-notebook">Export your Jupyter Notebook</a></p>
<ul>
<li>You can export a Jupyter Notebook as a Python file (<code>.py</code>), a PDF, or an HTML file. To export, select the Export action on the main toolbar.</li>
</ul>
<p>Python Interactive - <a href="https://code.visualstudio.com/docs/python/jupyter-support-py#_convert-jupyter-notebooks-to-python-code-file">Convert Jupyter notebooks to Python code file</a>: </p>
<ul>
<li>The notebook's cells are delimited in the Python file with <code># %%</code> comments;</li>
<li>Markdown cells are converted wholly to comments preceded with <code># %% [markdown]</code></li>
</ul>
<p>Python Interactive - <a href="https://code.visualstudio.com/docs/python/jupyter-support-py#_export-a-jupyter-notebook">Export a Jupyter notebook</a>: Convert a Python file to a Jupyter notebook</p>
<ul>
<li>to export content from a Python file in VS Code to a Jupyter notebook</li>
<li>using the <code># %%</code> and <code># %% [markdown]</code> delimiters to specify their respective cell types.</li>
</ul>
<h2 id="unittest">unittest<a class="headerlink" href="#unittest" title="Permanent link">#</a></h2>
<p><a href="https://jupyter-tutorial.readthedocs.io/en/stable/notebook/testing/unittest.html">Unit tests - Jupyter Tutorial 1.1.0</a></p>
<ul>
<li><a href="https://medium.com/@Stan_DS/how-to-do-unit-test-inside-jupyternotebook-c49191908a85">How to do unit test inside jupyternotebook | by Stan | Medium</a></li>
<li><a href="https://stackoverflow.com/questions/40172281/unit-tests-for-functions-in-a-jupyter-notebook">python - Unit tests for functions in a Jupyter notebook? - Stack Overflow</a></li>
</ul>
<p>假设Cell 1中定义了一个函数Cell：</p>
<div class="language-Python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</span></code></pre></div>
<p>可以在Cell 2中编写测试Cell 1中add函数的单测用例：</p>
<ul>
<li>运行Cell2之前，必须先运行Cell1使之加载。</li>
</ul>
<div class="language-Python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">import</span> <span class="nn">unittest</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">class</span> <span class="nc">TestNotebook</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="k">def</span> <span class="nf">test_add</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span> <span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">exit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></code></pre></div>
<p>除了使用常规的 Python 单元测试框架 unittest，还可使用 <a href="https://github.com/JoaoFelipe/ipython-unittest">ipython-unittest</a>。</p>
<p>After install(pip3 install ipython-unittest), please run <code>%load_ext ipython_unittest</code> in Cell to load the extension.</p>
<p>ipython-unittest enables the following <em>Cell Magics</em> to be used in iPython:</p>
<ul>
<li><code>%%unittest_main</code>: executes test cases that are defined in a cell</li>
<li><code>%%unittest_testcase</code>: creates a test case with the function defined in a cell and executes it</li>
<li><code>%%unittestconverts</code>: Python assert to unit test functions</li>
<li><code>%%external</code>: to perform external unit tests</li>
<li><code>%%write</code>: {mode} to write external files</li>
</ul>
<p>为兼容期间，建议使用 Python 标准的单元测试框架 unittest。</p>







  
  



  


  



  <h2 id="__comments">评论</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
    data-repo="fan2/mkdocs"
    data-repo-id="R_kgDOLltxSg"
    data-category="Announcements"
    data-category-id="DIC_kwDOLltxSs4CeURH"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="1"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
  </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../6-JupyterNotebook-JupyterLab/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Jupyter Notebook &amp; JupyterLab">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Jupyter Notebook & JupyterLab
              </div>
            </div>
          </a>
        
        
          
          <a href="../../20191202/python-expr/" class="md-footer__link md-footer__link--next" aria-label="下一页: python expressions">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                python expressions
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024- Cliff Fan
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["toc.follow", "header.autohide", "navigation.tabs", "navigation.top", "navigation.footer", "navigation.tracking", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.bd41221c.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://vercount.one/js"></script>
      
    
  </body>
</html>